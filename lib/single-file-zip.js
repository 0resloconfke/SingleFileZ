const{Array:e,Object:t,String:n,BigInt:r,Math:s,Date:a,Map:i,URL:o,Error:c,Uint8Array:l,Uint16Array:h,Uint32Array:u,DataView:f,Blob:d,Promise:p,TextEncoder:g,TextDecoder:w,document:y,crypto:m,btoa:b,TransformStream:v,ReadableStream:k,WritableStream:_,CompressionStream:x,DecompressionStream:T,navigator:S}=globalThis,z={chunkSize:524288,maxWorkers:void 0!==S&&S.hardwareConcurrency||2,terminateWorkerTimeout:5e3,useWebWorkers:!0,workerScripts:void 0},D=t.assign({},z);function A(){return D}function C(e){return s.max(e.chunkSize,64)}function F(t){const{baseURL:n,chunkSize:r,maxWorkers:s,terminateWorkerTimeout:a,useCompressionStream:i,useWebWorkers:o,Deflate:l,Inflate:h,workerScripts:u}=t;if(undefined!==n&&(D.baseURL=n),undefined!==r&&(D.chunkSize=r),undefined!==s&&(D.maxWorkers=s),undefined!==a&&(D.terminateWorkerTimeout=a),undefined!==i&&(D.useCompressionStream=i),undefined!==o&&(D.useWebWorkers=o),undefined!==l&&(D.Deflate=l),undefined!==h&&(D.Inflate=h),undefined!==u){const{deflate:t,inflate:n}=u;if((t||n)&&(D.workerScripts||(D.workerScripts={})),t){if(!e.isArray(t))throw new c("workerScripts.deflate must be an array");D.workerScripts.deflate=t}if(n){if(!e.isArray(n))throw new c("workerScripts.inflate must be an array");D.workerScripts.inflate=n}}}function R(){return"application/octet-stream"}var E=(e,t={},n)=>({Deflate:B(e.Deflate,t.deflate,n),Inflate:B(e.Inflate,t.inflate,n)});function B(e,n,r){return class{constructor(s){const a=this;s.hasOwnProperty("level")&&void 0===s.level&&delete s.level,a.codec=new e(t.assign({},n,s)),r(a.codec,(e=>{if(a.pendingData){const{pendingData:t}=a;a.pendingData=new l(t.length+e.length),a.pendingData.set(t,0),a.pendingData.set(e,t.length)}else a.pendingData=new l(e)}))}append(e){return this.codec.push(e),s(this)}flush(){return this.codec.push(new l,!0),s(this)}};function s(e){if(e.pendingData){const t=e.pendingData;return e.pendingData=null,t}return new l}}const W=[];for(let e=0;e<256;e++){let t=e;for(let e=0;e<8;e++)1&t?t=t>>>1^3988292384:t>>>=1;W[e]=t}class U{constructor(e){this.crc=e||-1}append(e){let t=0|this.crc;for(let n=0,r=0|e.length;n<r;n++)t=t>>>8^W[255&(t^e[n])];this.crc=t}get(){return~this.crc}}class H extends v{constructor(){super({start(){this.crc32=new U},transform(e){this.crc32.append(e)},flush(e){const t=new l(4);new f(t.buffer).setUint32(0,this.crc32.get()),e.enqueue(t)}})}}function L(e){if(void 0===g){e=unescape(encodeURIComponent(e));const t=new l(e.length);for(let n=0;n<t.length;n++)t[n]=e.charCodeAt(n);return t}return(new g).encode(e)}const M={concat(e,t){if(0===e.length||0===t.length)return e.concat(t);const n=e[e.length-1],r=M.getPartial(n);return 32===r?e.concat(t):M._shiftRight(t,r,0|n,e.slice(0,e.length-1))},bitLength(e){const t=e.length;if(0===t)return 0;const n=e[t-1];return 32*(t-1)+M.getPartial(n)},clamp(e,t){if(32*e.length<t)return e;const n=(e=e.slice(0,s.ceil(t/32))).length;return t&=31,n>0&&t&&(e[n-1]=M.partial(t,e[n-1]&2147483648>>t-1,1)),e},partial:(e,t,n)=>32===e?t:(n?0|t:t<<32-e)+1099511627776*e,getPartial:e=>s.round(e/1099511627776)||32,_shiftRight(e,t,n,r){for(void 0===r&&(r=[]);t>=32;t-=32)r.push(n),n=0;if(0===t)return r.concat(e);for(let s=0;s<e.length;s++)r.push(n|e[s]>>>t),n=e[s]<<32-t;const s=e.length?e[e.length-1]:0,a=M.getPartial(s);return r.push(M.partial(t+a&31,t+a>32?n:r.pop(),1)),r}},q={bytes:{fromBits(e){const t=M.bitLength(e)/8,n=new l(t);let r;for(let s=0;s<t;s++)0==(3&s)&&(r=e[s/4]),n[s]=r>>>24,r<<=8;return n},toBits(e){const t=[];let n,r=0;for(n=0;n<e.length;n++)r=r<<8|e[n],3==(3&n)&&(t.push(r),r=0);return 3&n&&t.push(M.partial(8*(3&n),r)),t}}},P={sha1:function(e){e?(this._h=e._h.slice(0),this._buffer=e._buffer.slice(0),this._length=e._length):this.reset()}};P.sha1.prototype={blockSize:512,reset(){const e=this;return e._h=this._init.slice(0),e._buffer=[],e._length=0,e},update(e){const t=this;"string"==typeof e&&(e=q.utf8String.toBits(e));const n=t._buffer=M.concat(t._buffer,e),r=t._length,s=t._length=r+M.bitLength(e);if(s>9007199254740991)throw new c("Cannot hash more than 2^53 - 1 bits");const a=new u(n);let i=0;for(let e=t.blockSize+r-(t.blockSize+r&t.blockSize-1);e<=s;e+=t.blockSize)t._block(a.subarray(16*i,16*(i+1))),i+=1;return n.splice(0,16*i),t},finalize(){const e=this;let t=e._buffer;const n=e._h;t=M.concat(t,[M.partial(1,1)]);for(let e=t.length+2;15&e;e++)t.push(0);for(t.push(s.floor(e._length/4294967296)),t.push(0|e._length);t.length;)e._block(t.splice(0,16));return e.reset(),n},_init:[1732584193,4023233417,2562383102,271733878,3285377520],_key:[1518500249,1859775393,2400959708,3395469782],_f:(e,t,n,r)=>e<=19?t&n|~t&r:e<=39?t^n^r:e<=59?t&n|t&r|n&r:e<=79?t^n^r:void 0,_S:(e,t)=>t<<e|t>>>32-e,_block(t){const n=this,r=n._h,a=e(80);for(let e=0;e<16;e++)a[e]=t[e];let i=r[0],o=r[1],c=r[2],l=r[3],h=r[4];for(let e=0;e<=79;e++){e>=16&&(a[e]=n._S(1,a[e-3]^a[e-8]^a[e-14]^a[e-16]));const t=n._S(5,i)+n._f(e,o,c,l)+h+a[e]+n._key[s.floor(e/20)]|0;h=l,l=c,c=n._S(30,o),o=i,i=t}r[0]=r[0]+i|0,r[1]=r[1]+o|0,r[2]=r[2]+c|0,r[3]=r[3]+l|0,r[4]=r[4]+h|0}};const I={aes:class{constructor(e){const t=this;t._tables=[[[],[],[],[],[]],[[],[],[],[],[]]],t._tables[0][0][0]||t._precompute();const n=t._tables[0][4],r=t._tables[1],s=e.length;let a,i,o,l=1;if(4!==s&&6!==s&&8!==s)throw new c("invalid aes key size");for(t._key=[i=e.slice(0),o=[]],a=s;a<4*s+28;a++){let e=i[a-1];(a%s==0||8===s&&a%s==4)&&(e=n[e>>>24]<<24^n[e>>16&255]<<16^n[e>>8&255]<<8^n[255&e],a%s==0&&(e=e<<8^e>>>24^l<<24,l=l<<1^283*(l>>7))),i[a]=i[a-s]^e}for(let e=0;a;e++,a--){const t=i[3&e?a:a-4];o[e]=a<=4||e<4?t:r[0][n[t>>>24]]^r[1][n[t>>16&255]]^r[2][n[t>>8&255]]^r[3][n[255&t]]}}encrypt(e){return this._crypt(e,0)}decrypt(e){return this._crypt(e,1)}_precompute(){const e=this._tables[0],t=this._tables[1],n=e[4],r=t[4],s=[],a=[];let i,o,c,l;for(let e=0;e<256;e++)a[(s[e]=e<<1^283*(e>>7))^e]=e;for(let h=i=0;!n[h];h^=o||1,i=a[i]||1){let a=i^i<<1^i<<2^i<<3^i<<4;a=a>>8^255&a^99,n[h]=a,r[a]=h,l=s[c=s[o=s[h]]];let u=16843009*l^65537*c^257*o^16843008*h,f=257*s[a]^16843008*a;for(let n=0;n<4;n++)e[n][h]=f=f<<24^f>>>8,t[n][a]=u=u<<24^u>>>8}for(let n=0;n<5;n++)e[n]=e[n].slice(0),t[n]=t[n].slice(0)}_crypt(e,t){if(4!==e.length)throw new c("invalid aes block size");const n=this._key[t],r=n.length/4-2,s=[0,0,0,0],a=this._tables[t],i=a[0],o=a[1],l=a[2],h=a[3],u=a[4];let f,d,p,g=e[0]^n[0],w=e[t?3:1]^n[1],y=e[2]^n[2],m=e[t?1:3]^n[3],b=4;for(let e=0;e<r;e++)f=i[g>>>24]^o[w>>16&255]^l[y>>8&255]^h[255&m]^n[b],d=i[w>>>24]^o[y>>16&255]^l[m>>8&255]^h[255&g]^n[b+1],p=i[y>>>24]^o[m>>16&255]^l[g>>8&255]^h[255&w]^n[b+2],m=i[m>>>24]^o[g>>16&255]^l[w>>8&255]^h[255&y]^n[b+3],b+=4,g=f,w=d,y=p;for(let e=0;e<4;e++)s[t?3&-e:e]=u[g>>>24]<<24^u[w>>16&255]<<16^u[y>>8&255]<<8^u[255&m]^n[b++],f=g,g=w,w=y,y=m,m=f;return s}}},V={getRandomValues(e){const t=new u(e.buffer),n=e=>{let t=987654321;const n=4294967295;return function(){t=36969*(65535&t)+(t>>16)&n;return(((t<<16)+(e=18e3*(65535&e)+(e>>16)&n)&n)/4294967296+.5)*(s.random()>.5?1:-1)}};for(let r,a=0;a<e.length;a+=4){const e=n(4294967296*(r||s.random()));r=987654071*e(),t[a/4]=4294967296*e()|0}return e}},K={ctrGladman:class{constructor(e,t){this._prf=e,this._initIv=t,this._iv=t}reset(){this._iv=this._initIv}update(e){return this.calculate(this._prf,e,this._iv)}incWord(e){if(255==(e>>24&255)){let t=e>>16&255,n=e>>8&255,r=255&e;255===t?(t=0,255===n?(n=0,255===r?r=0:++r):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=r}else e+=1<<24;return e}incCounter(e){0===(e[0]=this.incWord(e[0]))&&(e[1]=this.incWord(e[1]))}calculate(e,t,n){let r;if(!(r=t.length))return[];const s=M.bitLength(t);for(let s=0;s<r;s+=4){this.incCounter(n);const r=e.encrypt(n);t[s]^=r[0],t[s+1]^=r[1],t[s+2]^=r[2],t[s+3]^=r[3]}return M.clamp(t,s)}}},O={importKey:e=>new O.hmacSha1(q.bytes.toBits(e)),pbkdf2(e,t,n,r){if(n=n||1e4,r<0||n<0)throw new c("invalid params to pbkdf2");const s=1+(r>>5)<<2;let a,i,o,l,h;const u=new ArrayBuffer(s),d=new f(u);let p=0;const g=M;for(t=q.bytes.toBits(t),h=1;p<(s||1);h++){for(a=i=e.encrypt(g.concat(t,[h])),o=1;o<n;o++)for(i=e.encrypt(i),l=0;l<i.length;l++)a[l]^=i[l];for(o=0;p<(s||1)&&o<a.length;o++)d.setInt32(p,a[o]),p+=4}return u.slice(0,r/8)},hmacSha1:class{constructor(e){const t=this,n=t._hash=P.sha1,r=[[],[]],s=n.prototype.blockSize/32;t._baseHash=[new n,new n],e.length>s&&(e=n.hash(e));for(let t=0;t<s;t++)r[0][t]=909522486^e[t],r[1][t]=1549556828^e[t];t._baseHash[0].update(r[0]),t._baseHash[1].update(r[1]),t._resultHash=new n(t._baseHash[0])}reset(){const e=this;e._resultHash=new e._hash(e._baseHash[0]),e._updated=!1}update(e){this._updated=!0,this._resultHash.update(e)}digest(){const e=this,t=e._resultHash.finalize(),n=new e._hash(e._baseHash[1]).update(t).finalize();return e.reset(),n}encrypt(e){if(this._updated)throw new c("encrypt on already updated hmac called!");return this.update(e),this.digest(e)}}},Z="Invalid pasword",N={name:"PBKDF2"},G=t.assign({hash:{name:"HMAC"}},N),Y=t.assign({iterations:1e3,hash:{name:"SHA-1"}},N),j=["deriveBits"],J=[8,12,16],Q=[16,24,32],X=[0,0,0,0],$=void 0!==m,ee=$&&void 0!==m.subtle,te=$&&"function"==typeof m.getRandomValues,ne=$&&ee&&"function"==typeof m.subtle.importKey,re=$&&ee&&"function"==typeof m.subtle.deriveBits,se=q.bytes,ae=I.aes,ie=K.ctrGladman,oe=O.hmacSha1;class ce extends v{constructor(n,r,s){let a;super({start(){t.assign(this,{ready:new p((e=>this.resolveReady=e)),password:n,signed:r,strength:s-1,pending:new l})},async transform(t,n){const r=this;if(r.password){const n=r.password;r.password=null;const s=de(t,0,J[r.strength]+2);await async function(e,t,n){await ue(e,n,de(t,0,J[e.strength]));const r=de(t,J[e.strength]),s=e.keys.passwordVerification;if(s[0]!=r[0]||s[1]!=r[1])throw new c("Invalid pasword")}(r,s,n),r.ctr=new ie(new ae(r.keys.key),e.from(X)),r.hmac=new oe(r.keys.authentication),t=de(t,J[r.strength]+2),r.resolveReady()}else await r.ready;const s=new l(t.length-10-(t.length-10)%16);n.enqueue(he(r,t,s,0,10,!0))},async flush(e){const t=this;await t.ready;const n=t.pending,r=de(n,0,n.length-10),s=de(n,n.length-10);let i=new l;if(r.length){const e=ge(se,r);t.hmac.update(e);const n=t.ctr.update(e);i=pe(se,n)}if(a.valid=!0,t.signed){const e=de(pe(se,t.hmac.digest()),0,10);for(let t=0;t<10;t++)e[t]!=s[t]&&(a.valid=!1)}e.enqueue(i)}}),a=this}}class le extends v{constructor(n,r){let s;super({start(){t.assign(this,{ready:new p((e=>this.resolveReady=e)),password:n,strength:r-1,pending:new l})},async transform(t,n){const r=this;let s=new l;if(r.password){const t=r.password;r.password=null,s=await async function(e,t){const n=(r=new l(J[e.strength]),te?m.getRandomValues(r):V.getRandomValues(r));var r;return await ue(e,t,n),fe(n,e.keys.passwordVerification)}(r,t),r.ctr=new ie(new ae(r.keys.key),e.from(X)),r.hmac=new oe(r.keys.authentication),r.resolveReady()}else await r.ready;const a=new l(s.length+t.length-t.length%16);a.set(s,0),n.enqueue(he(r,t,a,s.length,0))},async flush(e){const t=this;await t.ready;let n=new l;if(t.pending.length){const e=t.ctr.update(ge(se,t.pending));t.hmac.update(e),n=pe(se,e)}s.signature=pe(se,t.hmac.digest()).slice(0,10),e.enqueue(fe(n,s.signature))}}),s=this}}function he(e,t,n,r,s,a){const i=t.length-s;let o;for(e.pending.length&&(t=fe(e.pending,t),n=function(e,t){if(t&&t>e.length){const n=e;(e=new l(t)).set(n,0)}return e}(n,i-i%16)),o=0;o<=i-16;o+=16){const s=ge(se,de(t,o,o+16));a&&e.hmac.update(s);const i=e.ctr.update(s);a||e.hmac.update(i),n.set(pe(se,i),o+r)}return e.pending=de(t,o),n}async function ue(e,n,r){const s=L(n),a=await function(e,t,n,r,s){return ne?m.subtle.importKey(e,t,n,r,s):O.importKey(t)}("raw",s,G,!1,j),i=await async function(e,t,n){return re?await m.subtle.deriveBits(e,t,n):O.pbkdf2(t,e.salt,Y.iterations,n)}(t.assign({salt:r},Y),a,8*(2*Q[e.strength]+2)),o=new l(i);e.keys={key:ge(se,de(o,0,Q[e.strength])),authentication:ge(se,de(o,Q[e.strength],2*Q[e.strength])),passwordVerification:de(o,2*Q[e.strength])}}function fe(e,t){let n=e;return e.length+t.length&&(n=new l(e.length+t.length),n.set(e,0),n.set(t,e.length)),n}function de(e,t,n){return e.subarray(t,n)}function pe(e,t){return e.fromBits(t)}function ge(e,t){return e.toBits(t)}class we extends v{constructor(e,n){let r;super({start(){t.assign(this,{password:e,passwordVerification:n}),ve(this,e)},transform(e,t){const n=this;if(n.password){const t=me(n,e.subarray(0,12));if(n.password=null,t[11]!=n.passwordVerification)throw new c("Invalid pasword");e=e.subarray(12)}t.enqueue(me(n,e))},flush(){r.valid=!0}}),r=this}}class ye extends v{constructor(e,n){super({start(){t.assign(this,{password:e,passwordVerification:n}),ve(this,e)},transform(e,t){const n=this;let r,s;if(n.password){n.password=null;const t=m.getRandomValues(new l(12));t[11]=n.passwordVerification,r=new l(e.length+t.length),r.set(be(n,t),0),s=12}else r=new l(e.length),s=0;r.set(be(n,e),s),t.enqueue(r)},flush(){}})}}function me(e,t){const n=new l(t.length);for(let r=0;r<t.length;r++)n[r]=_e(e)^t[r],ke(e,n[r]);return n}function be(e,t){const n=new l(t.length);for(let r=0;r<t.length;r++)n[r]=_e(e)^t[r],ke(e,t[r]);return n}function ve(e,t){e.keys=[305419896,591751049,878082192],e.crcKey0=new U(e.keys[0]),e.crcKey2=new U(e.keys[2]);for(let n=0;n<t.length;n++)ke(e,t.charCodeAt(n))}function ke(e,t){e.crcKey0.append([t]),e.keys[0]=~e.crcKey0.get(),e.keys[1]=Te(e.keys[1]+xe(e.keys[0])),e.keys[1]=Te(s.imul(e.keys[1],134775813)+1),e.crcKey2.append([e.keys[1]>>>24]),e.keys[2]=~e.crcKey2.get()}function _e(e){const t=2|e.keys[2];return xe(s.imul(t,1^t)>>>8)}function xe(e){return 255&e}function Te(e){return 4294967295&e}class Se extends v{constructor(e,t){let n;super({start(){n=new e(t)},transform(e,t){e=n.append(e),t.enqueue(e)},flush(e){const t=n.flush();t&&e.enqueue(t)}})}}const ze="Invalid signature",De=void 0===x,Ae=void 0===T;let Ce=!0,Fe=!0;class Re extends v{constructor(e,t,{chunkSize:n},...r){super({},...r);const{compressed:s,encrypted:a,useCompressionStream:i,password:o,passwordVerification:c,encryptionStrength:l,zipCrypto:h,signed:u}=t,d=this;let p,g,w=We(super.readable);if(a&&!h||!u||([w,p]=w.tee(),p=p.pipeThrough(new H)),s)if(void 0!==i&&!i||De&&!Fe)w=Be(e,w,n);else try{w=w.pipeThrough(new x("deflate-raw"))}catch(t){Fe=!1,w=Be(e,w,n)}a&&(h?w=w.pipeThrough(new ye(o,c)):(g=new le(o,l),w=w.pipeThrough(g))),Ue(d,w,(async()=>{let e;a&&!h&&(e=g.signature),a&&!h||!u||(e=await p.getReader().read(),e=new f(e.value.buffer).getUint32(0)),d.signature=e}))}}class Ee extends v{constructor(e,t,{chunkSize:n},...r){super({},...r);const{zipCrypto:s,encrypted:a,password:i,passwordVerification:o,signed:l,encryptionStrength:h,compressed:u,useCompressionStream:d}=t;let p,g,w=We(super.readable);if(a&&(s?w=w.pipeThrough(new we(i,o)):(g=new ce(i,l,h),w=w.pipeThrough(g))),u)if(void 0!==d&&!d||Ae&&!Ce)w=Be(e,w,n);else try{w=w.pipeThrough(new T("deflate-raw"))}catch(t){Ce=!1,w=Be(e,w,n)}a&&!s||!l||([w,p]=w.tee(),p=p.pipeThrough(new H)),Ue(this,w,(async()=>{if(a&&!s&&!g.valid)throw new c("Invalid signature");if((!a||s)&&l){const e=await p.getReader().read();if(e!=new f(e.value.buffer).getUint32(0,!1))throw new c("Invalid signature")}}))}}function Be(e,t,n){return t.pipeThrough(new Se(e,{chunkSize:n}))}function We(e){return e.pipeThrough(new v({transform(e,t){e&&e.length&&t.enqueue(e)}}))}function Ue(e,n,r){e.length=0,n=n.pipeThrough(new v({transform(t,n){t&&t.length&&(e.length+=t.length,n.enqueue(t))},flush:r})),t.defineProperty(e,"readable",{get:()=>n})}const He="AbortError";class Le{constructor(e,t,n,r,s){const{codecType:a}=r;async function i(a){const i=new a(e,r,s);await t.pipeThrough(i).pipeTo(n,{preventClose:!0});const{length:o,signature:c}=i;return{length:o,signature:c}}a.startsWith("deflate")?this.run=()=>i(Re):a.startsWith("inflate")&&(this.run=()=>i(Ee))}}let Me=!0;class qe{constructor(e,n,r,s){const{readable:a,writable:i}=n,{options:h,config:u,streamOptions:f,webWorker:d,scripts:g,codecConstructor:w}=r;t.assign(e,{busy:!0,codecConstructor:w,readable:a,writable:i,options:t.assign({},h),scripts:g,terminate(){e.worker&&!e.busy&&(e.worker.terminate(),e.interface=null)},onTaskFinished(){e.busy=!1,s(e)}});const{signal:y,onstart:m,onprogress:b,size:k,onend:_}=f;let x=0;const T={};return m&&(T.start=()=>Pe(m,k())),T.transform=async(e,t)=>{x+=e.length,b&&await Pe(b,x,k()),t.enqueue(e)},T.flush=()=>{a.size=()=>x,_&&Pe(_,x)},e.readable=a.pipeThrough(new v(T,{highWaterMark:1,size:()=>u.chunkSize}),{signal:y}),d?function(e,{baseURL:n,chunkSize:r}){const s={type:"module"},{readable:a,writable:i}=e;if(t.assign(e,{reader:a.getReader(),writer:i.getWriter(),result:new p(((t,n)=>{e.resolveResult=t,e.rejectResult=n}))}),!e.interface){if(Me)try{e.worker=h({})}catch(t){Me=!1,e.worker=h(s)}else e.worker=h(s);e.worker.addEventListener("message",f,!1),e.interface={run(){const{options:t}=e;return u({type:"start",scripts:e.scripts.slice(1),options:t,config:{chunkSize:r}}),e.result}}}return e.interface;function h(t){let r,s;r=e.scripts[0],"function"==typeof r&&(r=r());try{s=new o(r,n)}catch(e){s=r}return new Worker(s,t)}function u(t){const{worker:n,writer:r,onTaskFinished:s}=e;try{let{data:e}=t;if(e)try{const{buffer:r,length:s}=e;s!=r.byteLength&&(e=new l(e)),t.data=e.buffer,n.postMessage(t,[t.data])}catch(e){n.postMessage(t)}else n.postMessage(t)}catch(e){throw r.releaseLock(),s(),e}}async function f(t){const n=t.data,{reader:r,writer:s,resolveResult:a,rejectResult:i,onTaskFinished:o}=e,{type:h,data:f,messageId:d,result:p}=n,g=n.error;try{if(g){const{message:e,stack:t}=g,n=new c(e);n.stack=t,w(n)}else{if("pull"==h){const{value:e,done:t}=await r.read();u({type:"data",data:e,done:t,messageId:d})}"data"==h&&(await s.ready,await s.write(new l(f))),"close"==h&&w(null,p)}}catch(e){w(e)}function w(e,t){e?i(e):a(t),s.releaseLock(),o()}}}(e,u):function(e,t){const n=new Le(e.codecConstructor,e.readable,e.writable,e.options,t),{onTaskFinished:r}=e;return{async run(){try{return await n.run()}finally{r()}}}}(e,u)}}async function Pe(e,...t){try{await e(...t)}catch(e){}}let Ie=[];const Ve=[];let Ke=0;async function Oe(e,t){const{options:n,config:r,streamOptions:s}=t,a=!n.compressed&&!n.signed&&!n.encrypted,{useWebWorkers:i,useCompressionStream:o,codecType:l}=n,{workerScripts:h}=r;let u;if(t.webWorker=!a&&(i||void 0===i&&r.useWebWorkers),t.scripts=t.webWorker&&h?h[l]:[],n.useCompressionStream=void 0===o?r.useCompressionStream:o,Ie.length<r.maxWorkers){const n={indexWorker:Ke};Ke++,Ie.push(n),u=new qe(n,e,t,f)}else{const n=Ie.find((e=>!e.busy));n?(Ze(n),u=new qe(n,e,t,f)):u=await new p((n=>Ve.push({resolve:n,stream:e,workerOptions:t})))}try{return await u.run()}catch(e){const{signal:t}=s;throw t&&t.aborted&&(t.reason==e||"AbortError"==e.name)?new c("AbortError"):e}function f(e){if(Ve.length){const[{resolve:t,stream:n,workerOptions:r}]=Ve.splice(0,1);t(new qe(e,n,r,f))}else if(e.worker){const{terminateWorkerTimeout:t}=r;Ze(e),Number.isFinite(t)&&t>=0&&(e.terminateTimeout=setTimeout((()=>{Ie=Ie.filter((t=>t!=e)),e.terminate()}),t))}else Ie=Ie.filter((t=>t!=e))}}function Ze(e){const{terminateTimeout:t}=e;t&&(clearTimeout(t),e.terminateTimeout=null)}function Ne(){Ie.forEach((e=>{Ze(e),e.terminate()}))}const Ge="HTTP Range not supported",Ye="Reader is not seekable",je=65536;class Je{constructor(){this.size=0}init(){this.initialized=!0}}class Qe extends Je{get readable(){const e=this,t=new k({start(){this.chunkOffset=0},async pull(n){const{offset:r=0,chunkSize:a=je,size:i}=t,{chunkOffset:o}=this;n.enqueue(await e.readUint8Array(r+o,s.min(a,i()-o))),o+a>i()?n.close():this.chunkOffset+=a}});return t}}class Xe extends Je{constructor(){super();const e=this,n=new _({write:t=>e.writeUint8Array(t)});t.defineProperty(this,"writable",{get:()=>n})}}class $e extends Xe{writeUint8Array(e){this.size+=e.length}}class et extends Qe{constructor(e){super(),this.blobReader=new st(new d([e],{type:"text/plain"}))}init(){const e=this;super.init(),e.blobReader.init(),e.size=e.blobReader.size}readUint8Array(e,t){return this.blobReader.readUint8Array(e,t)}}class tt extends $e{constructor(e){super(),this.encoding=e,this.blob=new d([],{type:"text/plain"})}writeUint8Array(e){super.writeUint8Array(e),this.blob=new d([this.blob,e.buffer],{type:"text/plain"})}getData(){return this.blob.text()}}class nt extends Qe{constructor(e){super();const t=this;t.dataURI=e;let n=e.length;for(;"="==e.charAt(n-1);)n--;t.dataStart=e.indexOf(",")+1,t.size=s.floor(.75*(n-t.dataStart))}readUint8Array(e,t){const n=new l(t),r=4*s.floor(e/3),a=this.dataStart,i=atob(this.dataURI.substring(r+a,4*s.ceil((e+t)/3)+a)),o=e-3*s.floor(r/4);for(let e=o;e<o+t;e++)n[e-o]=i.charCodeAt(e);return n}}class rt extends $e{constructor(e){super(),this.data="data:"+(e||"")+";base64,",this.pending=[]}writeUint8Array(e){super.writeUint8Array(e);const t=this;let r=0,a=t.pending;const i=t.pending.length;for(t.pending="",r=0;r<3*s.floor((i+e.length)/3)-i;r++)a+=n.fromCharCode(e[r]);for(;r<e.length;r++)t.pending+=n.fromCharCode(e[r]);a.length>2?t.data+=b(a):t.pending=a}getData(){return this.data+b(this.pending)}}class st extends Qe{constructor(e){super(),this.blob=e,this.size=e.size}async readUint8Array(e,t){return new l(await this.blob.slice(e,e+t).arrayBuffer())}}class at extends $e{constructor(e){super();const t=this;t.contentType=e,t.arrayBuffersMaxlength=8,it(t)}writeUint8Array(e){super.writeUint8Array(e);const t=this;t.arrayBuffers.length==t.arrayBuffersMaxlength&&ot(t),t.arrayBuffers.push(e.buffer)}getData(){const e=this;return e.blob||(e.arrayBuffers.length&&ot(e),e.blob=e.pendingBlob,it(e)),e.blob}}function it(e){e.pendingBlob=new d([],{type:e.contentType}),e.arrayBuffers=[]}function ot(e){e.pendingBlob=new d([e.pendingBlob,...e.arrayBuffers],{type:e.contentType}),e.arrayBuffers=[]}class ct extends Je{constructor(e){super(),e||(this.readable=new k({}))}}class lt extends $e{constructor(e,{preventClose:n}={}){super(),this.preventClose=n,e||(e=new _({})),t.defineProperty(this,"writable",{get:()=>e})}}class ht extends Qe{constructor(e,n){super();const r=this;r.url=e,r.preventHeadRequest=n.preventHeadRequest,r.useRangeHeader=n.useRangeHeader,r.forceRangeRequests=n.forceRangeRequests,r.options=n=t.assign({},n),delete n.preventHeadRequest,delete n.useRangeHeader,delete n.forceRangeRequests,delete n.useXHR}async init(){super.init(),await ft(this,vt,wt)}readUint8Array(e,t){return dt(this,e,t,vt,wt)}}class ut extends Qe{constructor(e,t){super();const n=this;n.url=e,n.preventHeadRequest=t.preventHeadRequest,n.useRangeHeader=t.useRangeHeader,n.forceRangeRequests=t.forceRangeRequests,n.options=t}async init(){super.init(),await ft(this,kt,yt)}readUint8Array(e,t){return dt(this,e,t,kt,yt)}}async function ft(e,t,n){if(function(e){const{baseURL:t}=A(),{protocol:n}=new o(e,t);return"http:"==n||"https:"==n}(e.url)&&(e.useRangeHeader||e.forceRangeRequests)){const r=await t("GET",e,pt(e));if(!e.forceRangeRequests&&"bytes"!=r.headers.get("Accept-Ranges"))throw new c("HTTP Range not supported");{let s;const a=r.headers.get("Content-Range");if(a){const e=a.trim().split(/\s*\/\s*/);if(e.length){const t=e[1];t&&"*"!=t&&(s=Number(t))}}void 0===s?await bt(e,t,n):e.size=s}}else await bt(e,t,n)}async function dt(e,t,n,r,s){if(e.useRangeHeader||e.forceRangeRequests){const s=await r("GET",e,pt(e,t,n));if(206!=s.status)throw new c("HTTP Range not supported");return new l(await s.arrayBuffer())}return e.data||await s(e,e.options),new l(e.data.subarray(t,t+n))}function pt(e,n=0,r=1){return t.assign({},gt(e),{Range:"bytes="+n+"-"+(n+r-1)})}function gt(e){const n=e.options.headers;if(n)return Symbol.iterator in n?t.fromEntries(n):n}async function wt(e){await mt(e,vt)}async function yt(e){await mt(e,kt)}async function mt(e,t){const n=await t("GET",e,gt(e));e.data=new l(await n.arrayBuffer()),e.size||(e.size=e.data.length)}async function bt(e,t,n){if(e.preventHeadRequest)await n(e,e.options);else{const r=(await t("HEAD",e,gt(e))).headers.get("Content-Length");r?e.size=Number(r):await n(e,e.options)}}async function vt(e,{options:n,url:r},s){const a=await fetch(r,t.assign({},n,{method:e,headers:s}));if(a.status<400)return a;throw new c("HTTP error "+(a.statusText||a.status))}function kt(e,{url:n},r){return new p(((s,a)=>{const o=new XMLHttpRequest;if(o.addEventListener("load",(()=>{if(o.status<400){const e=[];o.getAllResponseHeaders().trim().split(/[\r\n]+/).forEach((t=>{const n=t.trim().split(/\s*:\s*/);n[0]=n[0].trim().replace(/^[a-z]|-[a-z]/g,(e=>e.toUpperCase())),e.push(n)})),s({status:o.status,arrayBuffer:()=>o.response,headers:new i(e)})}else a(new c("HTTP error "+(o.statusText||o.status)))}),!1),o.addEventListener("error",(e=>a(e.detail.error)),!1),o.open(e,n),r)for(const e of t.entries(r))o.setRequestHeader(e[0],e[1]);o.responseType="arraybuffer",o.send()}))}class _t extends Qe{constructor(e,t={}){super();this.url=e,this.reader=t.useXHR?new ut(e,t):new ht(e,t)}set size(e){}get size(){return this.reader.size}async init(){super.init(),await this.reader.init()}readUint8Array(e,t){return this.reader.readUint8Array(e,t)}}class xt extends _t{constructor(e,t={}){t.useRangeHeader=!0,super(e,t)}}class Tt extends Qe{constructor(e){super(),this.array=e,this.size=e.length}readUint8Array(e,t){return this.array.slice(e,e+t)}}class St extends $e{constructor(){super(),this.array=new l}writeUint8Array(e){super.writeUint8Array(e);const t=this,n=t.array;t.array=new l(n.length+e.length),t.array.set(n),t.array.set(e,n.length)}getData(){return this.array}}const zt=new a(2107,11,31),Dt=new a(1980,0,1),At="\0☺☻♥♦♣♠•◘○◙♂♀♪♫☼►◄↕‼¶§▬↨↑↓→←∟↔▲▼ !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~⌂ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜ¢£¥₧ƒáíóúñÑªº¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ ".split("");function Ct(e,t){return t&&"cp437"==t.trim().toLowerCase()?(e=>{let t="";for(let n=0;n<e.length;n++)t+=At[e[n]];return t})(e):new w(t).decode(e)}const Ft=["filename","rawFilename","directory","encrypted","compressedSize","uncompressedSize","lastModDate","rawLastModDate","comment","rawComment","signature","extraField","rawExtraField","bitFlag","extraFieldZip64","extraFieldUnicodePath","extraFieldUnicodeComment","extraFieldAES","filenameUTF8","commentUTF8","offset","zip64","compressionMethod","extraFieldNTFS","lastAccessDate","creationDate","extraFieldExtendedTimestamp","version","versionMadeBy","msDosCompatible","internalFileAttribute","externalFileAttribute"];class Rt{constructor(e){Ft.forEach((t=>this[t]=e[t]))}}const Et="File format is not recognized",Bt="End of central directory not found",Wt="End of Zip64 central directory not found",Ut="End of Zip64 central directory locator not found",Ht="Central directory header not found",Lt="Local file header not found",Mt="Zip64 extra field not found",qt="File contains encrypted entry",Pt="Encryption method not supported",It="Compression method not supported",Vt=["uncompressedSize","compressedSize","offset"];class Kt{constructor(e,n={}){t.assign(this,{reader:e,options:n,config:A()})}async*getEntriesGenerator(e={}){const n=this,{reader:r,config:a}=n;if(r.initialized||await r.init(),r.size<22)throw new c(Et);const i=await async function(e,t,n,r,a){const i=new l(4);!function(e,t,n){e.setUint32(t,n,!0)}(tn(i),0,t);const o=r+a;return await c(r)||await c(s.min(o,n));async function c(t){const s=n-t,a=await nn(e,s,t);for(let e=a.length-r;e>=0;e--)if(a[e]==i[0]&&a[e+1]==i[1]&&a[e+2]==i[2]&&a[e+3]==i[3])return{offset:s+e,buffer:a.slice(e,e+r).buffer}}}(r,101010256,r.size,22,1048560);if(!i)throw new c("End of central directory not found");const o=tn(i);let h=$t(o,12),u=$t(o,16);const f=i.offset,d=Xt(o,20),g=f+22+d;let w=Xt(o,8),y=0,m=0;if(4294967295==u||4294967295==h||65535==w){const e=tn(await nn(r,i.offset-20,20));if(117853008!=$t(e,0))throw new c("End of Zip64 central directory not found");u=en(e,8);let t=await nn(r,u,56),n=tn(t);const s=i.offset-20-56;if(101075792!=$t(n,0)&&u!=s){const e=u;u=s,y=u-e,t=await nn(r,u,56),n=tn(t)}if(101075792!=$t(n,0))throw new c("End of Zip64 central directory locator not found");w=en(n,32),h=en(n,40),u-=h}if(u<0||u>=r.size)throw new c(Et);let b=0,v=await nn(r,u,h),k=tn(v);if(h){const e=i.offset-h;if(33639248!=$t(k,b)&&u!=e){const t=u;u=e,y=u-t,v=await nn(r,u,h),k=tn(v)}}if(u<0||u>=r.size)throw new c(Et);for(let i=0;i<w;i++){const o=new Ot(r,a,n.options);if(33639248!=$t(k,b))throw new c("Central directory header not found");Zt(o,k,b+6);const l=Boolean(o.bitFlag.languageEncodingFlag),h=b+46,u=h+o.filenameLength,f=u+o.extraFieldLength,d=Xt(k,b+4),g=0==(0&d);t.assign(o,{versionMadeBy:d,msDosCompatible:g,compressedSize:0,uncompressedSize:0,commentLength:Xt(k,b+32),directory:g&&16==(16&Qt(k,b+38)),offset:$t(k,b+42)+y,internalFileAttribute:$t(k,b+34),externalFileAttribute:$t(k,b+38),rawFilename:v.subarray(h,u),filenameUTF8:l,commentUTF8:l,rawExtraField:v.subarray(u,f)}),m=s.max(o.offset,m);const _=f+o.commentLength;o.rawComment=v.subarray(f,_);const x=Yt(n,e,"filenameEncoding"),T=Yt(n,e,"commentEncoding"),[S,z]=await p.all([Ct(o.rawFilename,o.filenameUTF8?"utf-8":x||"cp437"),Ct(o.rawComment,o.commentUTF8?"utf-8":T||"cp437")]);o.filename=S,o.comment=z,!o.directory&&o.filename.endsWith("/")&&(o.directory=!0),await Nt(o,o,k,b+6);const D=new Rt(o);if(D.getData=(e,t)=>o.getData(e,D,t),b=_,e.onprogress)try{await e.onprogress(i+1,w,new Rt(o))}catch(e){}yield D}const _=Yt(n,e,"extractPrependedData"),x=Yt(n,e,"extractAppendedData");return _&&(n.prependedData=await nn(r,0,m)),n.comment=await nn(r,f+22,d),x&&(n.appendedData=g<r.size?await nn(r,g,r.size-g):new l),!0}async getEntries(e={}){const t=[];for await(const n of this.getEntriesGenerator(e))t.push(n);return t}async close(){}}class Ot{constructor(e,n,r){t.assign(this,{reader:e,config:n,options:r})}async getData(e,t,n={}){const r=this,{reader:s,offset:a,extraFieldAES:i,compressionMethod:o,config:l,bitFlag:h,signature:u,rawLastModDate:f,compressedSize:d}=r,p=r.localDirectory={};let g=await nn(s,a,30);const w=tn(g);let y=Yt(r,n,"password");if(y=y&&y.length&&y,i&&99!=i.originalCompressionMethod)throw new c("Compression method not supported");if(0!=o&&8!=o)throw new c("Compression method not supported");if(67324752!=$t(w,0))throw new c("Local file header not found");Zt(p,w,4),g=await nn(s,a,30+p.filenameLength+p.extraFieldLength),p.rawExtraField=g.subarray(30+p.filenameLength),await Nt(r,p,w,4),t.lastAccessDate=p.lastAccessDate,t.creationDate=p.creationDate;const m=r.encrypted&&p.encrypted,b=m&&!i;if(m){if(!b&&void 0===i.strength)throw new c("Encryption method not supported");if(!y)throw new c("File contains encrypted entry")}const v=a+30+p.filenameLength+p.extraFieldLength,k=()=>d,_=s.readable;_.offset=v,_.size=k,_.chunkSize=C(l);const{writable:x}=e,T=Yt(r,n,"signal");e.init&&!e.initialized&&await e.init();const{onstart:S,onprogress:z,onend:D}=n,A={options:{codecType:"inflate",password:y,zipCrypto:b,encryptionStrength:i&&i.strength,signed:Yt(r,n,"checkSignature"),passwordVerification:b&&(h.dataDescriptor?f>>>8&255:u>>>24&255),signature:u,compressed:0!=o,encrypted:m,useWebWorkers:Yt(r,n,"useWebWorkers"),useCompressionStream:Yt(r,n,"useCompressionStream")},config:l,streamOptions:{signal:T,size:k,onstart:S,onprogress:z,onend:D},codecConstructor:l.Inflate};return await Oe({readable:_,writable:x},A),e.preventClose||await x.getWriter().close(),e.getData?e.getData():x}}function Zt(e,n,r){const s=e.rawBitFlag=Xt(n,r+2),a=1==(1&s),i=$t(n,r+6);t.assign(e,{encrypted:a,version:Xt(n,r),bitFlag:{level:(6&s)>>1,dataDescriptor:8==(8&s),languageEncodingFlag:2048==(2048&s)},rawLastModDate:i,lastModDate:jt(i),filenameLength:Xt(n,r+22),extraFieldLength:Xt(n,r+24)})}async function Nt(e,n,r,o){const{rawExtraField:h}=n,u=n.extraField=new i,f=tn(new l(h));let d=0;try{for(;d<h.length;){const e=Xt(f,d),t=Xt(f,d+2);u.set(e,{type:e,data:h.slice(d+4,d+4+t)}),d+=4+t}}catch(e){}const p=Xt(r,o+4);n.signature=$t(r,o+10),n.uncompressedSize=$t(r,o+18),n.compressedSize=$t(r,o+14);const g=u.get(1);g&&(!function(e,t){t.zip64=!0;const n=tn(e.data);e.values=[];for(let t=0;t<s.floor(e.data.length/8);t++)e.values.push(en(n,0+8*t));const r=Vt.filter((e=>4294967295==t[e]));for(let t=0;t<r.length;t++)e[r[t]]=e.values[t];Vt.forEach((n=>{if(4294967295==t[n]){if(void 0===e[n])throw new c("Zip64 extra field not found");t[n]=e[n]}}))}(g,n),n.extraFieldZip64=g);const w=u.get(28789);w&&(await Gt(w,"filename","rawFilename",n,e),n.extraFieldUnicodePath=w);const y=u.get(25461);y&&(await Gt(y,"comment","rawComment",n,e),n.extraFieldUnicodeComment=y);const m=u.get(39169);m?(!function(e,t,n){const r=tn(e.data);e.vendorVersion=Qt(r,0),e.vendorId=Qt(r,2);const s=Qt(r,4);e.strength=s,e.originalCompressionMethod=n,t.compressionMethod=e.compressionMethod=Xt(r,5)}(m,n,p),n.extraFieldAES=m):n.compressionMethod=p;const b=u.get(10);b&&(!function(e,n){const r=tn(e.data);let s,a=4;try{for(;a<e.data.length&&!s;){const t=Xt(r,a),n=Xt(r,a+2);1==t&&(s=e.data.slice(a+4,a+4+n)),a+=4+n}}catch(e){}try{if(s&&24==s.length){const r=tn(s),a=r.getBigUint64(0,!0),i=r.getBigUint64(8,!0),o=r.getBigUint64(16,!0);t.assign(e,{rawLastModDate:a,rawLastAccessDate:i,rawCreationDate:o});const c=Jt(a),l=Jt(i),h={lastModDate:c,lastAccessDate:l,creationDate:Jt(o)};t.assign(e,h),t.assign(n,h)}}catch(e){}}(b,n),n.extraFieldNTFS=b);const v=u.get(21589);v&&(!function(e,t){const n=tn(e.data),r=Qt(n,0),s=[],i=[];1==(1&r)&&(s.push("lastModDate"),i.push("rawLastModDate"));2==(2&r)&&(s.push("lastAccessDate"),i.push("rawLastAccessDate"));4==(4&r)&&(s.push("creationDate"),i.push("rawCreationDate"));let o=1;s.forEach(((r,s)=>{if(e.data.length>=o+4){const c=$t(n,o);t[r]=e[r]=new a(1e3*c);const l=i[s];e[l]=c}o+=4}))}(v,n),n.extraFieldExtendedTimestamp=v)}async function Gt(e,t,n,r,s){const a=tn(e.data);e.version=Qt(a,0),e.signature=$t(a,1);const i=new U;i.append(s[n]);const o=tn(new l(4));o.setUint32(0,i.get(),!0),e[t]=await Ct(e.data.subarray(5)),e.valid=!s.bitFlag.languageEncodingFlag&&e.signature==$t(o,0),e.valid&&(r[t]=e[t],r[t+"UTF8"]=!0)}function Yt(e,t,n){return void 0===t[n]?e.options[n]:t[n]}function jt(e){const t=(4294901760&e)>>16,n=65535&e;try{return new a(1980+((65024&t)>>9),((480&t)>>5)-1,31&t,(63488&n)>>11,(2016&n)>>5,2*(31&n),0)}catch(e){}}function Jt(e){return new a(Number(e/r(1e4)-r(116444736e5)))}function Qt(e,t){return e.getUint8(t)}function Xt(e,t){return e.getUint16(t,!0)}function $t(e,t){return e.getUint32(t,!0)}function en(e,t){return Number(e.getBigUint64(t,!0))}function tn(e){return new f(e.buffer)}function nn(e,t,n){return e.readUint8Array(t,n)}const rn="File already exists",sn="Zip file comment exceeds 64KB",an="File entry comment exceeds 64KB",on="File entry name exceeds 64KB",cn="Version exceeds 65535",ln="The strength must equal 1, 2, or 3",hn="Extra field type exceeds 65535",un="Extra field data exceeds 64KB",fn="Zip64 is not supported (make sure 'keepOrder' is set to 'true')",dn=new l([7,0,2,0,65,69,3,0,0]);let pn,gn=0;class wn{constructor(e,n={}){t.assign(this,{writer:e,options:n,config:A(),files:new i,offset:e.size||0,pendingCompressedSize:0,pendingEntries:[],pendingAddFileCalls:new Set})}async add(n="",i,o={}){const d=this;if(!(gn<d.config.maxWorkers))return new p(((e,t)=>d.pendingEntries.push({name:n,reader:i,options:o,resolve:e,reject:t})));{let g;gn++;try{return g=async function(n,i,o,d){i=i.trim(),d.directory&&!i.endsWith("/")?i+="/":d.directory=i.endsWith("/");if(n.files.has(i))throw new c("File already exists");const g=L(i);if(g.length>65535)throw new c("File entry name exceeds 64KB");const w=d.comment||"",y=L(w);if(y.length>65535)throw new c("File entry comment exceeds 64KB");const m=n.options.version||d.version||0;if(m>65535)throw new c("Version exceeds 65535");const b=n.options.versionMadeBy||d.versionMadeBy||20;if(b>65535)throw new c("Version exceeds 65535");const v=bn(n,d,"lastModDate")||new a,k=bn(n,d,"lastAccessDate"),_=bn(n,d,"creationDate"),x=bn(n,d,"password"),T=bn(n,d,"encryptionStrength")||3,S=bn(n,d,"zipCrypto");if(void 0!==x&&void 0!==T&&(T<1||T>3))throw new c("The strength must equal 1, 2, or 3");let z=new l;const{extraField:D}=d;if(D){let e=0,t=0;D.forEach((t=>e+=4+t.length)),z=new l(e),D.forEach(((e,n)=>{if(n>65535)throw new c("Extra field type exceeds 65535");if(e.length>65535)throw new c("Extra field data exceeds 64KB");Tn(z,new h([n]),t),Tn(z,new h([e.length]),t+2),Tn(z,e,t+4),t+=4+e.length}))}let A=bn(n,d,"extendedTimestamp");void 0===A&&(A=!0);let F=0,R=bn(n,d,"keepOrder");void 0===R&&(R=!0);let E=0,B=bn(n,d,"msDosCompatible");void 0===B&&(B=!0);const W=bn(n,d,"internalFileAttribute")||0,U=bn(n,d,"externalFileAttribute")||0;o&&(o.init&&!o.initialized&&await o.init(),void 0===o.size?d.dataDescriptor=!0:E=o.size,F=function(e){return e+5*(s.floor(e/16383)+1)}(E));let H=d.zip64||n.options.zip64||!1;if(n.offset+n.pendingCompressedSize>=4294967295||E>=4294967295||F>=4294967295){if(!1===d.zip64||!1===n.options.zip64||!R)throw new c(fn);H=!0}n.pendingCompressedSize+=F,await p.resolve();const M=bn(n,d,"level"),q=bn(n,d,"useWebWorkers"),P=bn(n,d,"bufferedWrite");let I=bn(n,d,"dataDescriptor"),V=bn(n,d,"dataDescriptorSignature");const K=bn(n,d,"signal"),O=bn(n,d,"useCompressionStream");void 0===I&&(I=!0);I&&void 0===V&&(V=!1);const Z=await async function(n,a,i,o){const{files:h,writer:d}=n,g=e.from(h.values()).pop();let w,y,m,b,v,k={};h.set(a,k);try{let e;if(o.keepOrder&&(e=g&&g.lock),k.lock=new p((e=>m=e)),o.bufferedWrite||n.lockWriter||!o.dataDescriptor?(v=new at,v.init(),w=!0):(n.lockWriter=p.resolve(),d.init&&!d.initialized&&await d.init(),v=d),k=await async function(e,n,a,i,o){const{rawFilename:c,lastAccessDate:h,creationDate:f,password:d,level:p,zip64:g,zipCrypto:w,dataDescriptor:y,dataDescriptorSignature:m,directory:b,version:v,versionMadeBy:k,rawComment:_,rawExtraField:x,useWebWorkers:T,onstart:S,onprogress:z,onend:D,signal:A,encryptionStrength:F,extendedTimestamp:R,msDosCompatible:E,internalFileAttribute:B,externalFileAttribute:W,useCompressionStream:U}=o,H=Boolean(d&&d.length),L=0!==p&&!b;let M,q,P;if(H&&!w){M=new l(dn.length+2);const e=Sn(M);kn(e,0,39169),Tn(M,dn,2),vn(e,8,F)}else M=new l;if(R){P=new l(9+(h?4:0)+(f?4:0));const e=Sn(P);kn(e,0,21589),kn(e,2,P.length-4);vn(e,4,1+(h?2:0)+(f?4:0)),_n(e,5,s.floor(o.lastModDate.getTime()/1e3)),h&&_n(e,9,s.floor(h.getTime()/1e3)),f&&_n(e,13,s.floor(f.getTime()/1e3));try{q=new l(36);const e=Sn(q),t=mn(o.lastModDate);kn(e,0,10),kn(e,2,32),kn(e,8,1),kn(e,10,24),xn(e,12,t),xn(e,20,mn(h)||t),xn(e,28,mn(f)||t)}catch(e){q=new l}}else q=P=new l;const I={version:v||20,versionMadeBy:k,zip64:g,directory:Boolean(b),filenameUTF8:!0,rawFilename:c,commentUTF8:!0,rawComment:_,rawExtraFieldZip64:g?new l(28):new l,rawExtraFieldExtendedTimestamp:P,rawExtraFieldNTFS:q,rawExtraFieldAES:M,rawExtraField:x,extendedTimestamp:R,msDosCompatible:E,internalFileAttribute:B,externalFileAttribute:W};let V=I.uncompressedSize=0,K=2048;y&&(K|=8);let O=0;L&&(O=8);g&&(I.version=I.version>45?I.version:45);H&&(K|=1,w||(I.version=I.version>51?I.version:51,O=99,L&&(I.rawExtraFieldAES[9]=8)));I.compressionMethod=O;const Z=I.headerArray=new l(26),N=Sn(Z);kn(N,0,I.version),kn(N,2,K),kn(N,4,O);const G=new u(1),Y=Sn(G);let j;j=o.lastModDate<Dt?Dt:o.lastModDate>zt?zt:o.lastModDate;kn(Y,0,(j.getHours()<<6|j.getMinutes())<<5|j.getSeconds()/2),kn(Y,2,(j.getFullYear()-1980<<4|j.getMonth()+1)<<5|j.getDate());const J=G[0];_n(N,6,J),kn(N,22,c.length);const Q=M.length+P.length+q.length+I.rawExtraField.length;kn(N,24,Q);const X=new l(30+c.length+Q);let $;_n(Sn(X),0,67324752),Tn(X,Z,4),Tn(X,c,30),Tn(X,M,30+c.length),Tn(X,P,30+c.length+M.length),Tn(X,q,30+c.length+M.length+P.length),Tn(X,I.rawExtraField,30+c.length+M.length+P.length+q.length);let ee=0;if(e){await yn(a,X),I.dataWritten=n.dataWritten=!0;const t=()=>e.size,r=e.readable;r.size=t,r.chunkSize=C(i);const s={options:{codecType:"deflate",level:p,password:d,encryptionStrength:F,zipCrypto:H&&w,passwordVerification:H&&w&&J>>8&255,signed:!0,compressed:L,encrypted:H,useWebWorkers:T,useCompressionStream:U},config:i,streamOptions:{signal:A,size:t,onstart:S,onprogress:z,onend:D},codecConstructor:i.Deflate};$=await Oe({readable:r,writable:a},s),V=I.uncompressedSize=e.size=r.size(),ee=$.length}else await yn(a,X),I.dataWritten=n.dataWritten=!0;let te,ne=new l,re=0;y&&(ne=new l(g?m?24:20:m?16:12),te=Sn(ne),m&&(re=4,_n(te,0,134695760)));if(e){const{signature:e}=$;if(H&&!w||void 0===e||(_n(N,10,e),I.signature=e,y&&_n(te,re,e)),g){const e=Sn(I.rawExtraFieldZip64);kn(e,0,1),kn(e,2,24),_n(N,14,4294967295),xn(e,12,r(ee)),_n(N,18,4294967295),xn(e,4,r(V)),y&&(xn(te,re+4,r(ee)),xn(te,re+12,r(V)))}else _n(N,14,ee),_n(N,18,V),y&&(_n(te,re+4,ee),_n(te,re+8,V))}y&&await yn(a,ne);const se=X.length+ee+ne.length;return t.assign(I,{compressedSize:ee,lastModDate:j,rawLastModDate:J,creationDate:f,lastAccessDate:h,encrypted:H,length:se}),I}(i,k,v.writable,n.config,o),h.set(a,k),k.filename=a,w){let t=v.getData();await e,await _(),b=!0;const{writable:n}=d;if(!o.dataDescriptor){const e=26,r=await function(e,t,n){return t||n?e.slice(t,n).arrayBuffer():e.arrayBuffer()}(t,0,e),s=new f(r);k.encrypted&&!o.zipCrypto||_n(s,14,k.signature),k.zip64?(_n(s,18,4294967295),_n(s,22,4294967295)):(_n(s,18,k.compressedSize),_n(s,22,k.uncompressedSize)),await yn(n,new l(r)),t=t.slice(e)}await t.stream().pipeTo(n,{preventClose:!0}),b=!1}if(k.offset=n.offset,k.zip64){xn(Sn(k.rawExtraFieldZip64),20,r(k.offset))}else if(k.offset>=4294967295)throw new c(fn);return n.offset+=k.length,k}catch(e){throw(w&&b||!w&&k.dataWritten)&&(e.corruptedEntry=n.hasCorruptedEntries=!0,n.offset+=v.size),h.delete(a),e}finally{m(),y&&y()}async function _(){n.lockWriter?(await n.lockWriter.then((()=>delete n.lockWriter)),await _()):n.lockWriter=new p((e=>y=e))}}(n,i,o,t.assign({},d,{rawFilename:g,rawComment:y,version:m,versionMadeBy:b,lastModDate:v,lastAccessDate:k,creationDate:_,rawExtraField:z,zip64:H,password:x,level:M,useWebWorkers:q,encryptionStrength:T,extendedTimestamp:A,zipCrypto:S,bufferedWrite:P,keepOrder:R,dataDescriptor:I,dataDescriptorSignature:V,signal:K,msDosCompatible:B,internalFileAttribute:W,externalFileAttribute:U,useCompressionStream:O}));F&&(n.pendingCompressedSize-=F);return t.assign(Z,{name:i,comment:w,extraField:D}),new Rt(Z)}(d,n,i,o),this.pendingAddFileCalls.add(g),await g}finally{this.pendingAddFileCalls.delete(g),gn--;const e=d.pendingEntries.shift();e&&d.add(e.name,e.reader,e.options).then(e.resolve).catch(e.reject)}}}async close(t=new l,n={}){const{pendingAddFileCalls:a,writer:i}=this,{writable:o}=i;for(;a.size;)await p.all(e.from(a));return await async function(t,n,a){const{files:i}=t;let o=0,h=0,u=t.offset,f=i.size;for(const[,e]of i)h+=46+e.rawFilename.length+e.rawComment.length+e.rawExtraFieldZip64.length+e.rawExtraFieldAES.length+e.rawExtraFieldExtendedTimestamp.length+e.rawExtraFieldNTFS.length+e.rawExtraField.length;let d=a.zip64||t.options.zip64||!1;if(u>=4294967295||h>=4294967295||f>=65535){if(!1===a.zip64||!1===t.options.zip64)throw new c(fn);d=!0}const p=new l(h+(d?98:22)),g=Sn(p);for(const[t,n]of e.from(i.values()).entries()){const{rawFilename:e,rawExtraFieldZip64:r,rawExtraFieldAES:c,rawExtraField:h,rawComment:u,versionMadeBy:f,headerArray:d,directory:w,zip64:y,msDosCompatible:m,internalFileAttribute:b,externalFileAttribute:v}=n;let k,_;if(n.extendedTimestamp){_=n.rawExtraFieldNTFS,k=new l(9);const e=Sn(k);kn(e,0,21589),kn(e,2,k.length-4),vn(e,4,1),_n(e,5,s.floor(n.lastModDate.getTime()/1e3))}else _=k=new l;const x=r.length+c.length+k.length+_.length+h.length;if(_n(g,o,33639248),kn(g,o+4,f),Tn(p,d,o+6),kn(g,o+30,x),kn(g,o+32,u.length),_n(g,o+34,b),v?_n(g,o+38,v):w&&m&&vn(g,o+38,16),_n(g,o+42,y?4294967295:n.offset),Tn(p,e,o+46),Tn(p,r,o+46+e.length),Tn(p,c,o+46+e.length+r.length),Tn(p,k,o+46+e.length+r.length+c.length),Tn(p,_,o+46+e.length+r.length+c.length+k.length),Tn(p,h,o+46+e.length+r.length+c.length+k.length+_.length),Tn(p,u,o+46+e.length+x),o+=46+e.length+x+u.length,a.onprogress)try{await a.onprogress(t+1,i.size,new Rt(n))}catch(e){}}d&&(_n(g,o,101075792),xn(g,o+4,r(44)),kn(g,o+12,45),kn(g,o+14,45),xn(g,o+24,r(f)),xn(g,o+32,r(f)),xn(g,o+40,r(h)),xn(g,o+48,r(u)),_n(g,o+56,117853008),xn(g,o+64,r(u)+r(h)),_n(g,o+72,1),f=65535,u=4294967295,h=4294967295,o+=76);if(_n(g,o,101010256),kn(g,o+8,f),kn(g,o+10,f),_n(g,o+12,h),_n(g,o+16,u),n&&n.length){if(!(n.length<=65535))throw new c("Zip file comment exceeds 64KB");kn(g,o+20,n.length)}const{writable:w}=t.writer;await yn(w,p),n&&n.length&&await yn(w,n)}(this,t,n),i.preventClose||n.preventClose||await o.getWriter().close(),i.getData?i.getData():o}}async function yn(e,t){const n=e.getWriter();await n.ready,await n.write(t),n.releaseLock()}function mn(e){if(e)return(r(e.getTime())+r(116444736e5))*r(1e4)}function bn(e,t,n){return void 0===t[n]?e.options[n]:t[n]}function vn(e,t,n){e.setUint8(t,n)}function kn(e,t,n){e.setUint16(t,n,!0)}function _n(e,t,n){e.setUint32(t,n,!0)}function xn(e,t,n){e.setBigUint64(t,n,!0)}function Tn(e,t,n){e.set(t,n)}function Sn(e){return new f(e.buffer)}try{pn=import.meta.url}catch(e){}F({baseURL:pn}),(e=>{if("function"==typeof o.createObjectURL){const t=()=>o.createObjectURL(new d(['const{Array:e,Object:t,Math:n,Error:r,Uint8Array:s,Uint16Array:a,Uint32Array:i,Int32Array:o,DataView:l,Promise:c,TextEncoder:h,crypto:f,postMessage:u,TransformStream:p,ReadableStream:d,WritableStream:g,CompressionStream:w,DecompressionStream:v}=globalThis,y=[];for(let e=0;256>e;e++){let t=e;for(let e=0;8>e;e++)1&t?t=t>>>1^3988292384:t>>>=1;y[e]=t}class m{constructor(e){this.crc=e||-1}append(e){let t=0|this.crc;for(let n=0,r=0|e.length;r>n;n++)t=t>>>8^y[255&(t^e[n])];this.crc=t}get(){return~this.crc}}class b extends p{constructor(){super({start(){this.crc32=new m},transform(e){this.crc32.append(e)},flush(e){const t=new s(4);new l(t.buffer).setUint32(0,this.crc32.get()),e.enqueue(t)}})}}const _={concat(e,t){if(0===e.length||0===t.length)return e.concat(t);const n=e[e.length-1],r=_.getPartial(n);return 32===r?e.concat(t):_._shiftRight(t,r,0|n,e.slice(0,e.length-1))},bitLength(e){const t=e.length;if(0===t)return 0;const n=e[t-1];return 32*(t-1)+_.getPartial(n)},clamp(e,t){if(32*e.length<t)return e;const r=(e=e.slice(0,n.ceil(t/32))).length;return t&=31,r>0&&t&&(e[r-1]=_.partial(t,e[r-1]&2147483648>>t-1,1)),e},partial:(e,t,n)=>32===e?t:(n?0|t:t<<32-e)+1099511627776*e,getPartial:e=>n.round(e/1099511627776)||32,_shiftRight(e,t,n,r){for(void 0===r&&(r=[]);t>=32;t-=32)r.push(n),n=0;if(0===t)return r.concat(e);for(let s=0;s<e.length;s++)r.push(n|e[s]>>>t),n=e[s]<<32-t;const s=e.length?e[e.length-1]:0,a=_.getPartial(s);return r.push(_.partial(t+a&31,t+a>32?n:r.pop(),1)),r}},k={bytes:{fromBits(e){const t=_.bitLength(e)/8,n=new s(t);let r;for(let s=0;t>s;s++)0==(3&s)&&(r=e[s/4]),n[s]=r>>>24,r<<=8;return n},toBits(e){const t=[];let n,r=0;for(n=0;n<e.length;n++)r=r<<8|e[n],3==(3&n)&&(t.push(r),r=0);return 3&n&&t.push(_.partial(8*(3&n),r)),t}}},S={sha1:function(e){e?(this._h=e._h.slice(0),this._buffer=e._buffer.slice(0),this._length=e._length):this.reset()}};S.sha1.prototype={blockSize:512,reset(){const e=this;return e._h=this._init.slice(0),e._buffer=[],e._length=0,e},update(e){const t=this;"string"==typeof e&&(e=k.utf8String.toBits(e));const n=t._buffer=_.concat(t._buffer,e),s=t._length,a=t._length=s+_.bitLength(e);if(a>9007199254740991)throw new r("Cannot hash more than 2^53 - 1 bits");const o=new i(n);let l=0;for(let e=t.blockSize+s-(t.blockSize+s&t.blockSize-1);a>=e;e+=t.blockSize)t._block(o.subarray(16*l,16*(l+1))),l+=1;return n.splice(0,16*l),t},finalize(){const e=this;let t=e._buffer;const r=e._h;t=_.concat(t,[_.partial(1,1)]);for(let e=t.length+2;15&e;e++)t.push(0);for(t.push(n.floor(e._length/4294967296)),t.push(0|e._length);t.length;)e._block(t.splice(0,16));return e.reset(),r},_init:[1732584193,4023233417,2562383102,271733878,3285377520],_key:[1518500249,1859775393,2400959708,3395469782],_f:(e,t,n,r)=>e>19?e>39?e>59?e>79?void 0:t^n^r:t&n|t&r|n&r:t^n^r:t&n|~t&r,_S:(e,t)=>t<<e|t>>>32-e,_block(t){const r=this,s=r._h,a=e(80);for(let e=0;16>e;e++)a[e]=t[e];let i=s[0],o=s[1],l=s[2],c=s[3],h=s[4];for(let e=0;79>=e;e++){16>e||(a[e]=r._S(1,a[e-3]^a[e-8]^a[e-14]^a[e-16]));const t=r._S(5,i)+r._f(e,o,l,c)+h+a[e]+r._key[n.floor(e/20)]|0;h=c,c=l,l=r._S(30,o),o=i,i=t}s[0]=s[0]+i|0,s[1]=s[1]+o|0,s[2]=s[2]+l|0,s[3]=s[3]+c|0,s[4]=s[4]+h|0}};const T={getRandomValues(e){const t=new i(e.buffer),r=e=>{let t=987654321;const r=4294967295;return()=>(t=36969*(65535&t)+(t>>16)&r,(((t<<16)+(e=18e3*(65535&e)+(e>>16)&r)&r)/4294967296+.5)*(n.random()>.5?1:-1))};for(let s,a=0;a<e.length;a+=4){const e=r(4294967296*(s||n.random()));s=987654071*e(),t[a/4]=4294967296*e()|0}return e}},D={importKey:e=>new D.hmacSha1(k.bytes.toBits(e)),pbkdf2(e,t,n,s){if(n=n||1e4,0>s||0>n)throw new r("invalid params to pbkdf2");const a=1+(s>>5)<<2;let i,o,c,h,f;const u=new ArrayBuffer(a),p=new l(u);let d=0;const g=_;for(t=k.bytes.toBits(t),f=1;(a||1)>d;f++){for(i=o=e.encrypt(g.concat(t,[f])),c=1;n>c;c++)for(o=e.encrypt(o),h=0;h<o.length;h++)i[h]^=o[h];for(c=0;(a||1)>d&&c<i.length;c++)p.setInt32(d,i[c]),d+=4}return u.slice(0,s/8)},hmacSha1:class{constructor(e){const t=this,n=t._hash=S.sha1,r=[[],[]],s=n.prototype.blockSize/32;t._baseHash=[new n,new n],e.length>s&&(e=n.hash(e));for(let t=0;s>t;t++)r[0][t]=909522486^e[t],r[1][t]=1549556828^e[t];t._baseHash[0].update(r[0]),t._baseHash[1].update(r[1]),t._resultHash=new n(t._baseHash[0])}reset(){const e=this;e._resultHash=new e._hash(e._baseHash[0]),e._updated=!1}update(e){this._updated=!0,this._resultHash.update(e)}digest(){const e=this,t=e._resultHash.finalize(),n=new e._hash(e._baseHash[1]).update(t).finalize();return e.reset(),n}encrypt(e){if(this._updated)throw new r("encrypt on already updated hmac called!");return this.update(e),this.digest(e)}}},z={name:"PBKDF2"},I=t.assign({hash:{name:"HMAC"}},z),R=t.assign({iterations:1e3,hash:{name:"SHA-1"}},z),E=["deriveBits"],x=[8,12,16],C=[16,24,32],V=[0,0,0,0],B=void 0!==f,q=B&&void 0!==f.subtle,A=B&&"function"==typeof f.getRandomValues,H=B&&q&&"function"==typeof f.subtle.importKey,K=B&&q&&"function"==typeof f.subtle.deriveBits,P=k.bytes,W=class{constructor(e){const t=this;t._tables=[[[],[],[],[],[]],[[],[],[],[],[]]],t._tables[0][0][0]||t._precompute();const n=t._tables[0][4],s=t._tables[1],a=e.length;let i,o,l,c=1;if(4!==a&&6!==a&&8!==a)throw new r("invalid aes key size");for(t._key=[o=e.slice(0),l=[]],i=a;4*a+28>i;i++){let e=o[i-1];(i%a==0||8===a&&i%a==4)&&(e=n[e>>>24]<<24^n[e>>16&255]<<16^n[e>>8&255]<<8^n[255&e],i%a==0&&(e=e<<8^e>>>24^c<<24,c=c<<1^283*(c>>7))),o[i]=o[i-a]^e}for(let e=0;i;e++,i--){const t=o[3&e?i:i-4];l[e]=4>=i||4>e?t:s[0][n[t>>>24]]^s[1][n[t>>16&255]]^s[2][n[t>>8&255]]^s[3][n[255&t]]}}encrypt(e){return this._crypt(e,0)}decrypt(e){return this._crypt(e,1)}_precompute(){const e=this._tables[0],t=this._tables[1],n=e[4],r=t[4],s=[],a=[];let i,o,l,c;for(let e=0;256>e;e++)a[(s[e]=e<<1^283*(e>>7))^e]=e;for(let h=i=0;!n[h];h^=o||1,i=a[i]||1){let a=i^i<<1^i<<2^i<<3^i<<4;a=a>>8^255&a^99,n[h]=a,r[a]=h,c=s[l=s[o=s[h]]];let f=16843009*c^65537*l^257*o^16843008*h,u=257*s[a]^16843008*a;for(let n=0;4>n;n++)e[n][h]=u=u<<24^u>>>8,t[n][a]=f=f<<24^f>>>8}for(let n=0;5>n;n++)e[n]=e[n].slice(0),t[n]=t[n].slice(0)}_crypt(e,t){if(4!==e.length)throw new r("invalid aes block size");const n=this._key[t],s=n.length/4-2,a=[0,0,0,0],i=this._tables[t],o=i[0],l=i[1],c=i[2],h=i[3],f=i[4];let u,p,d,g=e[0]^n[0],w=e[t?3:1]^n[1],v=e[2]^n[2],y=e[t?1:3]^n[3],m=4;for(let e=0;s>e;e++)u=o[g>>>24]^l[w>>16&255]^c[v>>8&255]^h[255&y]^n[m],p=o[w>>>24]^l[v>>16&255]^c[y>>8&255]^h[255&g]^n[m+1],d=o[v>>>24]^l[y>>16&255]^c[g>>8&255]^h[255&w]^n[m+2],y=o[y>>>24]^l[g>>16&255]^c[w>>8&255]^h[255&v]^n[m+3],m+=4,g=u,w=p,v=d;for(let e=0;4>e;e++)a[t?3&-e:e]=f[g>>>24]<<24^f[w>>16&255]<<16^f[v>>8&255]<<8^f[255&y]^n[m++],u=g,g=w,w=v,v=y,y=u;return a}},L=class{constructor(e,t){this._prf=e,this._initIv=t,this._iv=t}reset(){this._iv=this._initIv}update(e){return this.calculate(this._prf,e,this._iv)}incWord(e){if(255==(e>>24&255)){let t=e>>16&255,n=e>>8&255,r=255&e;255===t?(t=0,255===n?(n=0,255===r?r=0:++r):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=r}else e+=1<<24;return e}incCounter(e){0===(e[0]=this.incWord(e[0]))&&(e[1]=this.incWord(e[1]))}calculate(e,t,n){let r;if(!(r=t.length))return[];const s=_.bitLength(t);for(let s=0;r>s;s+=4){this.incCounter(n);const r=e.encrypt(n);t[s]^=r[0],t[s+1]^=r[1],t[s+2]^=r[2],t[s+3]^=r[3]}return _.clamp(t,s)}},M=D.hmacSha1;class U extends p{constructor(n,a,i){let o;super({start(){t.assign(this,{ready:new c((e=>this.resolveReady=e)),password:n,signed:a,strength:i-1,pending:new s})},async transform(t,n){const a=this;if(a.password){const n=a.password;a.password=null;const s=Y(t,0,x[a.strength]+2);await(async(e,t,n)=>{await O(e,n,Y(t,0,x[e.strength]));const s=Y(t,x[e.strength]),a=e.keys.passwordVerification;if(a[0]!=s[0]||a[1]!=s[1])throw new r("Invalid pasword")})(a,s,n),a.ctr=new L(new W(a.keys.key),e.from(V)),a.hmac=new M(a.keys.authentication),t=Y(t,x[a.strength]+2),a.resolveReady()}else await a.ready;const i=new s(t.length-10-(t.length-10)%16);n.enqueue(N(a,t,i,0,10,!0))},async flush(e){const t=this;await t.ready;const n=t.pending,r=Y(n,0,n.length-10),a=Y(n,n.length-10);let i=new s;if(r.length){const e=X(P,r);t.hmac.update(e);const n=t.ctr.update(e);i=G(P,n)}if(o.valid=!0,t.signed){const e=Y(G(P,t.hmac.digest()),0,10);for(let t=0;10>t;t++)e[t]!=a[t]&&(o.valid=!1)}e.enqueue(i)}}),o=this}}class F extends p{constructor(n,r){let a;super({start(){t.assign(this,{ready:new c((e=>this.resolveReady=e)),password:n,strength:r-1,pending:new s})},async transform(t,n){const r=this;let a=new s;if(r.password){const t=r.password;r.password=null,a=await(async(e,t)=>{const n=(r=new s(x[e.strength]),A?f.getRandomValues(r):T.getRandomValues(r));var r;return await O(e,t,n),j(n,e.keys.passwordVerification)})(r,t),r.ctr=new L(new W(r.keys.key),e.from(V)),r.hmac=new M(r.keys.authentication),r.resolveReady()}else await r.ready;const i=new s(a.length+t.length-t.length%16);i.set(a,0),n.enqueue(N(r,t,i,a.length,0))},async flush(e){const t=this;await t.ready;let n=new s;if(t.pending.length){const e=t.ctr.update(X(P,t.pending));t.hmac.update(e),n=G(P,e)}a.signature=G(P,t.hmac.digest()).slice(0,10),e.enqueue(j(n,a.signature))}}),a=this}}function N(e,t,n,r,a,i){const o=t.length-a;let l;for(e.pending.length&&(t=j(e.pending,t),n=((e,t)=>{if(t&&t>e.length){const n=e;(e=new s(t)).set(n,0)}return e})(n,o-o%16)),l=0;o-16>=l;l+=16){const s=X(P,Y(t,l,l+16));i&&e.hmac.update(s);const a=e.ctr.update(s);i||e.hmac.update(a),n.set(G(P,a),l+r)}return e.pending=Y(t,l),n}async function O(e,n,r){const a=(e=>{if(void 0===h){const t=new s((e=unescape(encodeURIComponent(e))).length);for(let n=0;n<t.length;n++)t[n]=e.charCodeAt(n);return t}return(new h).encode(e)})(n),i=await((e,t,n,r,s)=>H?f.subtle.importKey("raw",t,n,!1,s):D.importKey(t))(0,a,I,0,E),o=await(async(e,t,n)=>K?await f.subtle.deriveBits(e,t,n):D.pbkdf2(t,e.salt,R.iterations,n))(t.assign({salt:r},R),i,8*(2*C[e.strength]+2)),l=new s(o);e.keys={key:X(P,Y(l,0,C[e.strength])),authentication:X(P,Y(l,C[e.strength],2*C[e.strength])),passwordVerification:Y(l,2*C[e.strength])}}function j(e,t){let n=e;return e.length+t.length&&(n=new s(e.length+t.length),n.set(e,0),n.set(t,e.length)),n}function Y(e,t,n){return e.subarray(t,n)}function G(e,t){return e.fromBits(t)}function X(e,t){return e.toBits(t)}class J extends p{constructor(e,n){let s;super({start(){t.assign(this,{password:e,passwordVerification:n}),ee(this,e)},transform(e,t){const n=this;if(n.password){const t=Z(n,e.subarray(0,12));if(n.password=null,t[11]!=n.passwordVerification)throw new r("Invalid pasword");e=e.subarray(12)}t.enqueue(Z(n,e))},flush(){s.valid=!0}}),s=this}}class Q extends p{constructor(e,n){super({start(){t.assign(this,{password:e,passwordVerification:n}),ee(this,e)},transform(e,t){const n=this;let r,a;if(n.password){n.password=null;const t=f.getRandomValues(new s(12));t[11]=n.passwordVerification,r=new s(e.length+t.length),r.set($(n,t),0),a=12}else r=new s(e.length),a=0;r.set($(n,e),a),t.enqueue(r)},flush(){}})}}function Z(e,t){const n=new s(t.length);for(let r=0;r<t.length;r++)n[r]=ne(e)^t[r],te(e,n[r]);return n}function $(e,t){const n=new s(t.length);for(let r=0;r<t.length;r++)n[r]=ne(e)^t[r],te(e,t[r]);return n}function ee(e,t){e.keys=[305419896,591751049,878082192],e.crcKey0=new m(e.keys[0]),e.crcKey2=new m(e.keys[2]);for(let n=0;n<t.length;n++)te(e,t.charCodeAt(n))}function te(e,t){e.crcKey0.append([t]),e.keys[0]=~e.crcKey0.get(),e.keys[1]=se(e.keys[1]+re(e.keys[0])),e.keys[1]=se(n.imul(e.keys[1],134775813)+1),e.crcKey2.append([e.keys[1]>>>24]),e.keys[2]=~e.crcKey2.get()}function ne(e){const t=2|e.keys[2];return re(n.imul(t,1^t)>>>8)}function re(e){return 255&e}function se(e){return 4294967295&e}class ae extends p{constructor(e,t){let n;super({start(){n=new e(t)},transform(e,t){e=n.append(e),t.enqueue(e)},flush(e){const t=n.flush();t&&e.enqueue(t)}})}}const ie=void 0===w,oe=void 0===v;let le=!0,ce=!0;class he extends p{constructor(e,t,{chunkSize:n},...r){super({},...r);const{compressed:s,encrypted:a,useCompressionStream:i,password:o,passwordVerification:c,encryptionStrength:h,zipCrypto:f,signed:u}=t,p=this;let d,g,v=pe(super.readable);if(a&&!f||!u||([v,d]=v.tee(),d=d.pipeThrough(new b)),s)if(void 0!==i&&!i||ie&&!ce)v=ue(e,v,n);else try{v=v.pipeThrough(new w("deflate-raw"))}catch(t){ce=!1,v=ue(e,v,n)}a&&(f?v=v.pipeThrough(new Q(o,c)):(g=new F(o,h),v=v.pipeThrough(g))),de(p,v,(async()=>{let e;a&&!f&&(e=g.signature),a&&!f||!u||(e=await d.getReader().read(),e=new l(e.value.buffer).getUint32(0)),p.signature=e}))}}class fe extends p{constructor(e,t,{chunkSize:n},...s){super({},...s);const{zipCrypto:a,encrypted:i,password:o,passwordVerification:c,signed:h,encryptionStrength:f,compressed:u,useCompressionStream:p}=t;let d,g,w=pe(super.readable);if(i&&(a?w=w.pipeThrough(new J(o,c)):(g=new U(o,h,f),w=w.pipeThrough(g))),u)if(void 0!==p&&!p||oe&&!le)w=ue(e,w,n);else try{w=w.pipeThrough(new v("deflate-raw"))}catch(t){le=!1,w=ue(e,w,n)}i&&!a||!h||([w,d]=w.tee(),d=d.pipeThrough(new b)),de(this,w,(async()=>{if(i&&!a&&!g.valid)throw new r("Invalid signature");if((!i||a)&&h){const e=await d.getReader().read();if(e!=new l(e.value.buffer).getUint32(0,!1))throw new r("Invalid signature")}}))}}function ue(e,t,n){return t.pipeThrough(new ae(e,{chunkSize:n}))}function pe(e){return e.pipeThrough(new p({transform(e,t){e&&e.length&&t.enqueue(e)}}))}function de(e,n,r){e.length=0,n=n.pipeThrough(new p({transform(t,n){t&&t.length&&(e.length+=t.length,n.enqueue(t))},flush:r})),t.defineProperty(e,"readable",{get:()=>n})}class ge{constructor(e,t,n,r,s){const{codecType:a}=r;async function i(a){const i=new a(e,r,s);await t.pipeThrough(i).pipeTo(n,{preventClose:!0});const{length:o,signature:l}=i;return{length:o,signature:l}}a.startsWith("deflate")?this.run=()=>i(he):a.startsWith("inflate")&&(this.run=()=>i(fe))}}const we=new Map;let ve,ye=0;async function me(e){try{const{options:t,scripts:n,config:r}=e,{codecType:s}=t;let a;n&&n.length&&importScripts.apply(void 0,n),self.initCodec&&self.initCodec(),s.startsWith("deflate")?a=self.Deflate:s.startsWith("inflate")&&(a=self.Inflate);const i={highWaterMark:1,size:()=>r.chunkSize},o=new d({async pull(e){let t=new c(((e,t)=>we.set(ye,{resolve:e,reject:t})));be({type:"pull",messageId:ye}),ye=(ye+1)%Number.MAX_SAFE_INTEGER;const{value:n,done:r}=await t;e.enqueue(n),r&&e.close()}},i),l=new g({write(e){be({type:"data",data:e})}},i);ve=new ge(a,o,l,t,r),be({type:"close",result:await ve.run()})}catch(e){const{message:t,stack:n}=e;u({error:{message:t,stack:n}})}}function be(e){if(e.data){let{data:t}=e;if(t&&t.length)try{t.length!=t.buffer.byteLength&&(t=new s(t)),e.data=t.buffer,u(e,[e.data])}catch(t){u(e)}else u(e)}else u(e)}addEventListener("message",(async e=>{const t=e.data,{type:n,messageId:r,data:a,done:i}=t;try{if("start"==n&&me(t),"data"==n){const{resolve:e}=we.get(r);we.delete(r),e({value:new s(a),done:i})}}catch(e){u({error:{message:e.message,stack:e.stack}})}}));var _e=s,ke=a,Se=i,Te=new _e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),De=new _e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ze=new _e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ie=(e,t)=>{for(var n=new ke(31),r=0;31>r;++r)n[r]=t+=1<<e[r-1];var s=new Se(n[30]);for(r=1;30>r;++r)for(var a=n[r];a<n[r+1];++a)s[a]=a-n[r]<<5|r;return[n,s]},Re=Ie(Te,2),Ee=Re[0],xe=Re[1];Ee[28]=258,xe[258]=28;for(var Ce=Ie(De,0),Ve=Ce[0],Be=Ce[1],qe=new ke(32768),Ae=0;32768>Ae;++Ae){var He=(43690&Ae)>>>1|(21845&Ae)<<1;He=(61680&(He=(52428&He)>>>2|(13107&He)<<2))>>>4|(3855&He)<<4,qe[Ae]=((65280&He)>>>8|(255&He)<<8)>>>1}var Ke=(e,t,n)=>{for(var r=e.length,s=0,a=new ke(t);r>s;++s)e[s]&&++a[e[s]-1];var i,o=new ke(t);for(s=0;t>s;++s)o[s]=o[s-1]+a[s-1]<<1;if(n){i=new ke(1<<t);var l=15-t;for(s=0;r>s;++s)if(e[s])for(var c=s<<4|e[s],h=t-e[s],f=o[e[s]-1]++<<h,u=f|(1<<h)-1;u>=f;++f)i[qe[f]>>>l]=c}else for(i=new ke(r),s=0;r>s;++s)e[s]&&(i[s]=qe[o[e[s]-1]++]>>>15-e[s]);return i},Pe=new _e(288);for(Ae=0;144>Ae;++Ae)Pe[Ae]=8;for(Ae=144;256>Ae;++Ae)Pe[Ae]=9;for(Ae=256;280>Ae;++Ae)Pe[Ae]=7;for(Ae=280;288>Ae;++Ae)Pe[Ae]=8;var We=new _e(32);for(Ae=0;32>Ae;++Ae)We[Ae]=5;var Le=Ke(Pe,9,0),Me=Ke(Pe,9,1),Ue=Ke(We,5,0),Fe=Ke(We,5,1),Ne=e=>{for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Oe=(e,t,n)=>{var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},je=(e,t)=>{var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},Ye=e=>(e+7)/8|0,Ge=(e,t,n)=>{(null==t||0>t)&&(t=0),(null==n||n>e.length)&&(n=e.length);var r=new(2==e.BYTES_PER_ELEMENT?ke:4==e.BYTES_PER_ELEMENT?Se:_e)(n-t);return r.set(e.subarray(t,n)),r},Xe=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Je=(e,t,n)=>{var s=new r(t||Xe[e]);if(s.code=e,r.captureStackTrace&&r.captureStackTrace(s,Je),!n)throw s;return s},Qe=(e,t,n)=>{n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>>8},Ze=(e,t,n)=>{n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},$e=(e,t)=>{for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var s=n.length,a=n.slice();if(!s)return[it,0];if(1==s){var i=new _e(n[0].s+1);return i[n[0].s]=1,[i,1]}n.sort(((e,t)=>e.f-t.f)),n.push({s:-1,f:25001});var o=n[0],l=n[1],c=0,h=1,f=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};h!=s-1;)o=n[n[c].f<n[f].f?c++:f++],l=n[c!=h&&n[c].f<n[f].f?c++:f++],n[h++]={s:-1,f:o.f+l.f,l:o,r:l};var u=a[0].s;for(r=1;s>r;++r)a[r].s>u&&(u=a[r].s);var p=new ke(u+1),d=et(n[h-1],p,0);if(d>t){r=0;var g=0,w=d-t,v=1<<w;for(a.sort(((e,t)=>p[t.s]-p[e.s]||e.f-t.f));s>r;++r){var y=a[r].s;if(p[y]<=t)break;g+=v-(1<<d-p[y]),p[y]=t}for(g>>>=w;g>0;){var m=a[r].s;p[m]<t?g-=1<<t-p[m]++-1:++r}for(;r>=0&&g;--r){var b=a[r].s;p[b]==t&&(--p[b],++g)}d=t}return[new _e(p),d]},et=(e,t,r)=>-1==e.s?n.max(et(e.l,t,r+1),et(e.r,t,r+1)):t[e.s]=r,tt=e=>{for(var t=e.length;t&&!e[--t];);for(var n=new ke(++t),r=0,s=e[0],a=1,i=e=>{n[r++]=e},o=1;t>=o;++o)if(e[o]==s&&o!=t)++a;else{if(!s&&a>2){for(;a>138;a-=138)i(32754);a>2&&(i(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(i(s),--a;a>6;a-=6)i(8304);a>2&&(i(a-3<<5|8208),a=0)}for(;a--;)i(s);a=1,s=e[o]}return[n.subarray(0,r),t]},nt=(e,t)=>{for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},rt=(e,t,n)=>{var r=n.length,s=Ye(t+2);e[s]=255&r,e[s+1]=r>>>8,e[s+2]=255^e[s],e[s+3]=255^e[s+1];for(var a=0;r>a;++a)e[s+a+4]=n[a];return 8*(s+4+r)},st=(e,t,n,r,s,a,i,o,l,c,h)=>{Qe(t,h++,n),++s[256];for(var f=$e(s,15),u=f[0],p=f[1],d=$e(a,15),g=d[0],w=d[1],v=tt(u),y=v[0],m=v[1],b=tt(g),_=b[0],k=b[1],S=new ke(19),T=0;T<y.length;++T)S[31&y[T]]++;for(T=0;T<_.length;++T)S[31&_[T]]++;for(var D=$e(S,7),z=D[0],I=D[1],R=19;R>4&&!z[ze[R-1]];--R);var E,x,C,V,B=c+5<<3,q=nt(s,Pe)+nt(a,We)+i,A=nt(s,u)+nt(a,g)+i+14+3*R+nt(S,z)+(2*S[16]+3*S[17]+7*S[18]);if(q>=B&&A>=B)return rt(t,h,e.subarray(l,l+c));if(Qe(t,h,1+(q>A)),h+=2,q>A){E=Ke(u,p,0),x=u,C=Ke(g,w,0),V=g;var H=Ke(z,I,0);for(Qe(t,h,m-257),Qe(t,h+5,k-1),Qe(t,h+10,R-4),h+=14,T=0;R>T;++T)Qe(t,h+3*T,z[ze[T]]);h+=3*R;for(var K=[y,_],P=0;2>P;++P){var W=K[P];for(T=0;T<W.length;++T){var L=31&W[T];Qe(t,h,H[L]),h+=z[L],L>15&&(Qe(t,h,W[T]>>>5&127),h+=W[T]>>>12)}}}else E=Le,x=Pe,C=Ue,V=We;for(T=0;o>T;++T)if(r[T]>255){L=r[T]>>>18&31,Ze(t,h,E[L+257]),h+=x[L+257],L>7&&(Qe(t,h,r[T]>>>23&31),h+=Te[L]);var M=31&r[T];Ze(t,h,C[M]),h+=V[M],M>3&&(Ze(t,h,r[T]>>>5&8191),h+=De[M])}else Ze(t,h,E[r[T]]),h+=x[r[T]];return Ze(t,h,E[256]),h+x[256]},at=new Se([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),it=new _e(0),ot=function(){function e(e,t){t||"function"!=typeof e||(t=e,e={}),this.ondata=t,this.o=e||{}}return e.prototype.p=function(e,t){var r,s,a;this.ondata((a=!t,((e,t,r,s,a,i)=>{var o=e.length,l=new _e(0+o+5*(1+n.ceil(o/7e3))+0),c=l.subarray(0,l.length-0),h=0;if(!t||8>o)for(var f=0;o>=f;f+=65535){var u=f+65535;o>u||(c[h>>3]=i),h=rt(c,h+1,e.subarray(f,u))}else{for(var p=at[t-1],d=p>>>13,g=8191&p,w=(1<<r)-1,v=new ke(32768),y=new ke(w+1),m=n.ceil(r/3),b=2*m,_=t=>(e[t]^e[t+1]<<m^e[t+2]<<b)&w,k=new Se(25e3),S=new ke(288),T=new ke(32),D=0,z=0,I=(f=0,0),R=0,E=0;o>f;++f){var x=_(f),C=32767&f,V=y[x];if(v[C]=V,y[x]=C,f>=R){var B=o-f;if((D>7e3||I>24576)&&B>423){h=st(e,c,0,k,S,T,z,I,E,f-E,h),I=D=z=0,E=f;for(var q=0;286>q;++q)S[q]=0;for(q=0;30>q;++q)T[q]=0}var A=2,H=0,K=g,P=C-V&32767;if(B>2&&x==_(f-P))for(var W=n.min(d,B)-1,L=n.min(32767,f),M=n.min(258,B);L>=P&&--K&&C!=V;){if(e[f+A]==e[f+A-P]){for(var U=0;M>U&&e[f+U]==e[f+U-P];++U);if(U>A){if(A=U,H=P,U>W)break;var F=n.min(P,U-2),N=0;for(q=0;F>q;++q){var O=f-P+q+32768&32767,j=O-v[O]+32768&32767;j>N&&(N=j,V=O)}}}P+=(C=V)-(V=v[C])+32768&32767}if(H){k[I++]=268435456|xe[A]<<18|Be[H];var Y=31&xe[A],G=31&Be[H];z+=Te[Y]+De[G],++S[257+Y],++T[G],R=f+A,++D}else k[I++]=e[f],++S[e[f]]}}h=st(e,c,i,k,S,T,z,I,E,f-E,h),!i&&7&h&&(h=rt(c,h+1,it))}return Ge(l,0,0+Ye(h)+0)})(r=e,null==(s=this.o).level?6:s.level,null==s.mem?n.ceil(1.5*n.max(8,n.min(13,n.log(r.length)))):12+s.mem,0,0,!a)),t)},e.prototype.push=function(e,t){this.ondata||Je(5),this.d&&Je(4),this.d=t,this.p(e,t||!1)},e}(),lt=function(){function e(e){this.s={},this.p=new _e(0),this.ondata=e}return e.prototype.e=function(e){this.ondata||Je(5),this.d&&Je(4);var t=this.p.length,n=new _e(t+e.length);n.set(this.p),n.set(e,t),this.p=n},e.prototype.c=function(e){this.d=this.s.i=e||!1;var t=this.s.b,r=((e,t,r)=>{var s=e.length;if(!s||r&&r.f&&!r.l)return t||new _e(0);var a=!t||r,i=!r||r.i;r||(r={}),t||(t=new _e(3*s));var o=e=>{var r=t.length;if(e>r){var s=new _e(n.max(2*r,e));s.set(t),t=s}},l=r.f||0,c=r.p||0,h=r.b||0,f=r.l,u=r.d,p=r.m,d=r.n,g=8*s;do{if(!f){l=Oe(e,c,1);var w=Oe(e,c+1,3);if(c+=3,!w){var v=e[(R=Ye(c)+4)-4]|e[R-3]<<8,y=R+v;if(y>s){i&&Je(0);break}a&&o(h+v),t.set(e.subarray(R,y),h),r.b=h+=v,r.p=c=8*y,r.f=l;continue}if(1==w)f=Me,u=Fe,p=9,d=5;else if(2==w){var m=Oe(e,c,31)+257,b=Oe(e,c+10,15)+4,_=m+Oe(e,c+5,31)+1;c+=14;for(var k=new _e(_),S=new _e(19),T=0;b>T;++T)S[ze[T]]=Oe(e,c+3*T,7);c+=3*b;var D=Ne(S),z=(1<<D)-1,I=Ke(S,D,1);for(T=0;_>T;){var R,E=I[Oe(e,c,z)];if(c+=15&E,16>(R=E>>>4))k[T++]=R;else{var x=0,C=0;for(16==R?(C=3+Oe(e,c,3),c+=2,x=k[T-1]):17==R?(C=3+Oe(e,c,7),c+=3):18==R&&(C=11+Oe(e,c,127),c+=7);C--;)k[T++]=x}}var V=k.subarray(0,m),B=k.subarray(m);p=Ne(V),d=Ne(B),f=Ke(V,p,1),u=Ke(B,d,1)}else Je(1);if(c>g){i&&Je(0);break}}a&&o(h+131072);for(var q=(1<<p)-1,A=(1<<d)-1,H=c;;H=c){var K=(x=f[je(e,c)&q])>>>4;if((c+=15&x)>g){i&&Je(0);break}if(x||Je(2),256>K)t[h++]=K;else{if(256==K){H=c,f=null;break}var P=K-254;if(K>264){var W=Te[T=K-257];P=Oe(e,c,(1<<W)-1)+Ee[T],c+=W}var L=u[je(e,c)&A],M=L>>>4;if(L||Je(3),c+=15&L,B=Ve[M],M>3&&(W=De[M],B+=je(e,c)&(1<<W)-1,c+=W),c>g){i&&Je(0);break}a&&o(h+131072);for(var U=h+P;U>h;h+=4)t[h]=t[h-B],t[h+1]=t[h+1-B],t[h+2]=t[h+2-B],t[h+3]=t[h+3-B];h=U}}r.l=f,r.p=H,r.b=h,r.f=l,f&&(l=1,r.m=p,r.d=u,r.n=d)}while(!l);return h==t.length?t:Ge(t,0,h)})(this.p,this.o,this.s);this.ondata(Ge(r,t,this.s.b),this.d),this.o=Ge(r,this.s.b-32768),this.s.b=this.o.length,this.p=Ge(this.p,this.s.p/8|0),this.s.p&=7},e.prototype.push=function(e,t){this.e(e),this.c(t)},e}(),ct="undefined"!=typeof TextDecoder&&new TextDecoder;try{ct.decode(it,{stream:!0})}catch(e){}function ht(e,n,r){return class{constructor(a){const i=this;a.hasOwnProperty("level")&&void 0===a.level&&delete a.level,i.codec=new e(t.assign({},n,a)),r(i.codec,(e=>{if(i.pendingData){const{pendingData:t}=i;i.pendingData=new s(t.length+e.length),i.pendingData.set(t,0),i.pendingData.set(e,t.length)}else i.pendingData=new s(e)}))}append(e){return this.codec.push(e),a(this)}flush(){return this.codec.push(new s,!0),a(this)}};function a(e){if(e.pendingData){const t=e.pendingData;return e.pendingData=null,t}return new s}}const{Deflate:ft,Inflate:ut}=((e,t={},n)=>({Deflate:ht(e.Deflate,t.deflate,n),Inflate:ht(e.Inflate,t.inflate,n)}))({Deflate:ot,Inflate:lt},void 0,((e,t)=>e.ondata=t));self.initCodec=()=>{self.Deflate=ft,self.Inflate=ut};\n'],{type:"text/javascript"}));e({workerScripts:{inflate:[t],deflate:[t]}})}})(F);export{st as BlobReader,at as BlobWriter,nt as Data64URIReader,rt as Data64URIWriter,He as ERR_ABORT,Et as ERR_BAD_FORMAT,Ht as ERR_CENTRAL_DIRECTORY_NOT_FOUND,rn as ERR_DUPLICATED_NAME,qt as ERR_ENCRYPTED,Ut as ERR_EOCDR_LOCATOR_ZIP64_NOT_FOUND,Bt as ERR_EOCDR_NOT_FOUND,Wt as ERR_EOCDR_ZIP64_NOT_FOUND,Mt as ERR_EXTRAFIELD_ZIP64_NOT_FOUND,Ge as ERR_HTTP_RANGE,sn as ERR_INVALID_COMMENT,ln as ERR_INVALID_ENCRYPTION_STRENGTH,an as ERR_INVALID_ENTRY_COMMENT,on as ERR_INVALID_ENTRY_NAME,un as ERR_INVALID_EXTRAFIELD_DATA,hn as ERR_INVALID_EXTRAFIELD_TYPE,Z as ERR_INVALID_PASSWORD,ze as ERR_INVALID_SIGNATURE,cn as ERR_INVALID_VERSION,Lt as ERR_LOCAL_FILE_HEADER_NOT_FOUND,Ye as ERR_NOT_SEEKABLE_READER,It as ERR_UNSUPPORTED_COMPRESSION,Pt as ERR_UNSUPPORTED_ENCRYPTION,fn as ERR_UNSUPPORTED_FORMAT,xt as HttpRangeReader,_t as HttpReader,ct as ReadableStreamReader,Qe as Reader,et as TextReader,tt as TextWriter,Tt as Uint8ArrayReader,St as Uint8ArrayWriter,lt as WritableStreamWriter,$e as Writer,Kt as ZipReader,wn as ZipWriter,F as configure,R as getMimeType,E as initShimAsyncCodec,Ne as terminateWorkers};
