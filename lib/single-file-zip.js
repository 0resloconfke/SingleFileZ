const{Array:e,Object:t,String:n,BigInt:r,Math:s,Date:a,Map:i,URL:o,Error:c,Uint8Array:l,Uint16Array:u,Uint32Array:f,DataView:d,Blob:h,Promise:p,TextEncoder:w,TextDecoder:g,document:m,crypto:y,btoa:b,TransformStream:S,ReadableStream:v,WritableStream:z,CompressionStream:k,DecompressionStream:D,navigator:_,Worker:x}=globalThis,F=4294967295,E=65535,C=8,A=0,T=99,R=67324752,H=134695760,M=H,U=33639248,B=101010256,W=101075792,L=117853008,N=22,q=1,I=39169,V=10,K=1,P=21589,O=1,j=8,Z=2048,G=45,X=51,J="/",Q=new a(2107,11,31),Y=new a(1980,0,1),$=void 0,ee="undefined",te="function";class ne{constructor(e){return class extends S{constructor(t,n){const r=new e(n);super({transform(e,t){t.enqueue(r.append(e))},flush(e){const t=r.flush();t&&e.enqueue(t)}})}}}}const re=64;let se=2;try{typeof _!=ee&&_.hardwareConcurrency&&(se=_.hardwareConcurrency)}catch(e){}const ae={chunkSize:524288,maxWorkers:se,terminateWorkerTimeout:5e3,useWebWorkers:!0,useCompressionStream:!0,workerScripts:$,CompressionStreamNative:typeof k!=ee&&k,DecompressionStreamNative:typeof D!=ee&&D},ie=t.assign({},ae);function oe(){return ie}function ce(e){return s.max(e.chunkSize,re)}function le(t){const{baseURL:n,chunkSize:r,maxWorkers:s,terminateWorkerTimeout:a,useCompressionStream:i,useWebWorkers:o,Deflate:l,Inflate:u,CompressionStream:f,DecompressionStream:d,workerScripts:h}=t;if(ue("baseURL",n),ue("chunkSize",r),ue("maxWorkers",s),ue("terminateWorkerTimeout",a),ue("useCompressionStream",i),ue("useWebWorkers",o),l&&(ie.CompressionStream=new ne(l)),u&&(ie.DecompressionStream=new ne(u)),ue("CompressionStream",f),ue("DecompressionStream",d),h!==$){const{deflate:t,inflate:n}=h;if((t||n)&&(ie.workerScripts||(ie.workerScripts={})),t){if(!e.isArray(t))throw new c("workerScripts.deflate must be an array");ie.workerScripts.deflate=t}if(n){if(!e.isArray(n))throw new c("workerScripts.inflate must be an array");ie.workerScripts.inflate=n}}}function ue(e,t){t!==$&&(ie[e]=t)}function fe(){return"application/octet-stream"}function de(e,t={},n){return{Deflate:he(e.Deflate,t.deflate,n),Inflate:he(e.Inflate,t.inflate,n)}}function he(e,n,r){return class{constructor(s){const a=this;t.hasOwn(s,"level")&&void 0===s.level&&delete s.level,a.codec=new e(t.assign({},n,s)),r(a.codec,(e=>{if(a.pendingData){const t=a.pendingData;a.pendingData=new l(t.length+e.length);const{pendingData:n}=a;n.set(t,0),n.set(e,t.length)}else a.pendingData=new l(e)}))}append(e){return this.codec.push(e),s(this)}flush(){return this.codec.push(new l,!0),s(this)}};function s(e){if(e.pendingData){const t=e.pendingData;return e.pendingData=null,t}return new l}}const pe=[];for(let e=0;e<256;e++){let t=e;for(let e=0;e<8;e++)1&t?t=t>>>1^3988292384:t>>>=1;pe[e]=t}class we{constructor(e){this.crc=e||-1}append(e){let t=0|this.crc;for(let n=0,r=0|e.length;n<r;n++)t=t>>>8^pe[255&(t^e[n])];this.crc=t}get(){return~this.crc}}class ge extends S{constructor(){const e=new we;super({transform(t){e.append(t)},flush(t){const n=new l(4);new d(n.buffer).setUint32(0,e.get()),t.enqueue(n)}})}}function me(e){if(void 0===w){e=unescape(encodeURIComponent(e));const t=new l(e.length);for(let n=0;n<t.length;n++)t[n]=e.charCodeAt(n);return t}return(new w).encode(e)}const ye={concat(e,t){if(0===e.length||0===t.length)return e.concat(t);const n=e[e.length-1],r=ye.getPartial(n);return 32===r?e.concat(t):ye._shiftRight(t,r,0|n,e.slice(0,e.length-1))},bitLength(e){const t=e.length;if(0===t)return 0;const n=e[t-1];return 32*(t-1)+ye.getPartial(n)},clamp(e,t){if(32*e.length<t)return e;const n=(e=e.slice(0,s.ceil(t/32))).length;return t&=31,n>0&&t&&(e[n-1]=ye.partial(t,e[n-1]&2147483648>>t-1,1)),e},partial:(e,t,n)=>32===e?t:(n?0|t:t<<32-e)+1099511627776*e,getPartial:e=>s.round(e/1099511627776)||32,_shiftRight(e,t,n,r){for(void 0===r&&(r=[]);t>=32;t-=32)r.push(n),n=0;if(0===t)return r.concat(e);for(let s=0;s<e.length;s++)r.push(n|e[s]>>>t),n=e[s]<<32-t;const s=e.length?e[e.length-1]:0,a=ye.getPartial(s);return r.push(ye.partial(t+a&31,t+a>32?n:r.pop(),1)),r}},be={bytes:{fromBits(e){const t=ye.bitLength(e)/8,n=new l(t);let r;for(let s=0;s<t;s++)0==(3&s)&&(r=e[s/4]),n[s]=r>>>24,r<<=8;return n},toBits(e){const t=[];let n,r=0;for(n=0;n<e.length;n++)r=r<<8|e[n],3==(3&n)&&(t.push(r),r=0);return 3&n&&t.push(ye.partial(8*(3&n),r)),t}}},Se={sha1:class{constructor(e){const t=this;t.blockSize=512,t._init=[1732584193,4023233417,2562383102,271733878,3285377520],t._key=[1518500249,1859775393,2400959708,3395469782],e?(t._h=e._h.slice(0),t._buffer=e._buffer.slice(0),t._length=e._length):t.reset()}reset(){const e=this;return e._h=e._init.slice(0),e._buffer=[],e._length=0,e}update(e){const t=this;"string"==typeof e&&(e=be.utf8String.toBits(e));const n=t._buffer=ye.concat(t._buffer,e),r=t._length,s=t._length=r+ye.bitLength(e);if(s>9007199254740991)throw new c("Cannot hash more than 2^53 - 1 bits");const a=new f(n);let i=0;for(let e=t.blockSize+r-(t.blockSize+r&t.blockSize-1);e<=s;e+=t.blockSize)t._block(a.subarray(16*i,16*(i+1))),i+=1;return n.splice(0,16*i),t}finalize(){const e=this;let t=e._buffer;const n=e._h;t=ye.concat(t,[ye.partial(1,1)]);for(let e=t.length+2;15&e;e++)t.push(0);for(t.push(s.floor(e._length/4294967296)),t.push(0|e._length);t.length;)e._block(t.splice(0,16));return e.reset(),n}_f(e,t,n,r){return e<=19?t&n|~t&r:e<=39?t^n^r:e<=59?t&n|t&r|n&r:e<=79?t^n^r:void 0}_S(e,t){return t<<e|t>>>32-e}_block(t){const n=this,r=n._h,a=e(80);for(let e=0;e<16;e++)a[e]=t[e];let i=r[0],o=r[1],c=r[2],l=r[3],u=r[4];for(let e=0;e<=79;e++){e>=16&&(a[e]=n._S(1,a[e-3]^a[e-8]^a[e-14]^a[e-16]));const t=n._S(5,i)+n._f(e,o,c,l)+u+a[e]+n._key[s.floor(e/20)]|0;u=l,l=c,c=n._S(30,o),o=i,i=t}r[0]=r[0]+i|0,r[1]=r[1]+o|0,r[2]=r[2]+c|0,r[3]=r[3]+l|0,r[4]=r[4]+u|0}}},ve={aes:class{constructor(e){const t=this;t._tables=[[[],[],[],[],[]],[[],[],[],[],[]]],t._tables[0][0][0]||t._precompute();const n=t._tables[0][4],r=t._tables[1],s=e.length;let a,i,o,l=1;if(4!==s&&6!==s&&8!==s)throw new c("invalid aes key size");for(t._key=[i=e.slice(0),o=[]],a=s;a<4*s+28;a++){let e=i[a-1];(a%s==0||8===s&&a%s==4)&&(e=n[e>>>24]<<24^n[e>>16&255]<<16^n[e>>8&255]<<8^n[255&e],a%s==0&&(e=e<<8^e>>>24^l<<24,l=l<<1^283*(l>>7))),i[a]=i[a-s]^e}for(let e=0;a;e++,a--){const t=i[3&e?a:a-4];o[e]=a<=4||e<4?t:r[0][n[t>>>24]]^r[1][n[t>>16&255]]^r[2][n[t>>8&255]]^r[3][n[255&t]]}}encrypt(e){return this._crypt(e,0)}decrypt(e){return this._crypt(e,1)}_precompute(){const e=this._tables[0],t=this._tables[1],n=e[4],r=t[4],s=[],a=[];let i,o,c,l;for(let e=0;e<256;e++)a[(s[e]=e<<1^283*(e>>7))^e]=e;for(let u=i=0;!n[u];u^=o||1,i=a[i]||1){let a=i^i<<1^i<<2^i<<3^i<<4;a=a>>8^255&a^99,n[u]=a,r[a]=u,l=s[c=s[o=s[u]]];let f=16843009*l^65537*c^257*o^16843008*u,d=257*s[a]^16843008*a;for(let n=0;n<4;n++)e[n][u]=d=d<<24^d>>>8,t[n][a]=f=f<<24^f>>>8}for(let n=0;n<5;n++)e[n]=e[n].slice(0),t[n]=t[n].slice(0)}_crypt(e,t){if(4!==e.length)throw new c("invalid aes block size");const n=this._key[t],r=n.length/4-2,s=[0,0,0,0],a=this._tables[t],i=a[0],o=a[1],l=a[2],u=a[3],f=a[4];let d,h,p,w=e[0]^n[0],g=e[t?3:1]^n[1],m=e[2]^n[2],y=e[t?1:3]^n[3],b=4;for(let e=0;e<r;e++)d=i[w>>>24]^o[g>>16&255]^l[m>>8&255]^u[255&y]^n[b],h=i[g>>>24]^o[m>>16&255]^l[y>>8&255]^u[255&w]^n[b+1],p=i[m>>>24]^o[y>>16&255]^l[w>>8&255]^u[255&g]^n[b+2],y=i[y>>>24]^o[w>>16&255]^l[g>>8&255]^u[255&m]^n[b+3],b+=4,w=d,g=h,m=p;for(let e=0;e<4;e++)s[t?3&-e:e]=f[w>>>24]<<24^f[g>>16&255]<<16^f[m>>8&255]<<8^f[255&y]^n[b++],d=w,w=g,g=m,m=y,y=d;return s}}},ze={getRandomValues(e){const t=new f(e.buffer),n=e=>{let t=987654321;const n=4294967295;return function(){t=36969*(65535&t)+(t>>16)&n;return(((t<<16)+(e=18e3*(65535&e)+(e>>16)&n)&n)/4294967296+.5)*(s.random()>.5?1:-1)}};for(let r,a=0;a<e.length;a+=4){const e=n(4294967296*(r||s.random()));r=987654071*e(),t[a/4]=4294967296*e()|0}return e}},ke={ctrGladman:class{constructor(e,t){this._prf=e,this._initIv=t,this._iv=t}reset(){this._iv=this._initIv}update(e){return this.calculate(this._prf,e,this._iv)}incWord(e){if(255==(e>>24&255)){let t=e>>16&255,n=e>>8&255,r=255&e;255===t?(t=0,255===n?(n=0,255===r?r=0:++r):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=r}else e+=1<<24;return e}incCounter(e){0===(e[0]=this.incWord(e[0]))&&(e[1]=this.incWord(e[1]))}calculate(e,t,n){let r;if(!(r=t.length))return[];const s=ye.bitLength(t);for(let s=0;s<r;s+=4){this.incCounter(n);const r=e.encrypt(n);t[s]^=r[0],t[s+1]^=r[1],t[s+2]^=r[2],t[s+3]^=r[3]}return ye.clamp(t,s)}}},De={importKey:e=>new De.hmacSha1(be.bytes.toBits(e)),pbkdf2(e,t,n,r){if(n=n||1e4,r<0||n<0)throw new c("invalid params to pbkdf2");const s=1+(r>>5)<<2;let a,i,o,l,u;const f=new ArrayBuffer(s),h=new d(f);let p=0;const w=ye;for(t=be.bytes.toBits(t),u=1;p<(s||1);u++){for(a=i=e.encrypt(w.concat(t,[u])),o=1;o<n;o++)for(i=e.encrypt(i),l=0;l<i.length;l++)a[l]^=i[l];for(o=0;p<(s||1)&&o<a.length;o++)h.setInt32(p,a[o]),p+=4}return f.slice(0,r/8)},hmacSha1:class{constructor(e){const t=this,n=t._hash=Se.sha1,r=[[],[]];t._baseHash=[new n,new n];const s=t._baseHash[0].blockSize/32;e.length>s&&(e=n.hash(e));for(let t=0;t<s;t++)r[0][t]=909522486^e[t],r[1][t]=1549556828^e[t];t._baseHash[0].update(r[0]),t._baseHash[1].update(r[1]),t._resultHash=new n(t._baseHash[0])}reset(){const e=this;e._resultHash=new e._hash(e._baseHash[0]),e._updated=!1}update(e){this._updated=!0,this._resultHash.update(e)}digest(){const e=this,t=e._resultHash.finalize(),n=new e._hash(e._baseHash[1]).update(t).finalize();return e.reset(),n}encrypt(e){if(this._updated)throw new c("encrypt on already updated hmac called!");return this.update(e),this.digest(e)}}},_e=void 0!==y&&"function"==typeof y.getRandomValues,xe="Invalid password",Fe="Invalid signature";function Ee(e){return _e?y.getRandomValues(e):ze.getRandomValues(e)}const Ce=16,Ae="raw",Te={name:"PBKDF2"},Re=t.assign({hash:{name:"HMAC"}},Te),He=t.assign({iterations:1e3,hash:{name:"SHA-1"}},Te),Me=["deriveBits"],Ue=[8,12,16],Be=[16,24,32],We=10,Le=[0,0,0,0],Ne="undefined",qe="function",Ie=typeof y!=Ne,Ve=Ie&&y.subtle,Ke=Ie&&typeof Ve!=Ne,Pe=be.bytes,Oe=ve.aes,je=ke.ctrGladman,Ze=De.hmacSha1;let Ge=Ie&&Ke&&typeof Ve.importKey==qe,Xe=Ie&&Ke&&typeof Ve.deriveBits==qe;class Je extends S{constructor({password:e,signed:n,encryptionStrength:r}){super({start(){t.assign(this,{ready:new p((e=>this.resolveReady=e)),password:e,signed:n,strength:r-1,pending:new l})},async transform(e,t){const n=this,{password:r,strength:s,resolveReady:a,ready:i}=n;r?(await async function(e,t,n,r){const s=await $e(e,t,n,tt(r,0,Ue[t])),a=tt(r,Ue[t]);if(s[0]!=a[0]||s[1]!=a[1])throw new c(xe)}(n,s,r,tt(e,0,Ue[s]+2)),e=tt(e,Ue[s]+2),a()):await i;const o=new l(e.length-We-(e.length-We)%Ce);t.enqueue(Ye(n,e,o,0,We,!0))},async flush(e){const{signed:t,ctr:n,hmac:r,pending:s,ready:a}=this;await a;const i=tt(s,0,s.length-We),o=tt(s,s.length-We);let u=new l;if(i.length){const e=rt(Pe,i);r.update(e);const t=n.update(e);u=nt(Pe,t)}if(t){const e=tt(nt(Pe,r.digest()),0,We);for(let t=0;t<We;t++)if(e[t]!=o[t])throw new c(Fe)}e.enqueue(u)}})}}class Qe extends S{constructor({password:e,encryptionStrength:n}){let r;super({start(){t.assign(this,{ready:new p((e=>this.resolveReady=e)),password:e,strength:n-1,pending:new l})},async transform(e,t){const n=this,{password:r,strength:s,resolveReady:a,ready:i}=n;let o=new l;r?(o=await async function(e,t,n){const r=Ee(new l(Ue[t])),s=await $e(e,t,n,r);return et(r,s)}(n,s,r),a()):await i;const c=new l(o.length+e.length-e.length%Ce);c.set(o,0),t.enqueue(Ye(n,e,c,o.length,0))},async flush(e){const{ctr:t,hmac:n,pending:s,ready:a}=this;await a;let i=new l;if(s.length){const e=t.update(rt(Pe,s));n.update(e),i=nt(Pe,e)}r.signature=nt(Pe,n.digest()).slice(0,We),e.enqueue(et(i,r.signature))}}),r=this}}function Ye(e,t,n,r,s,a){const{ctr:i,hmac:o,pending:c}=e,u=t.length-s;let f;for(c.length&&(t=et(c,t),n=function(e,t){if(t&&t>e.length){const n=e;(e=new l(t)).set(n,0)}return e}(n,u-u%Ce)),f=0;f<=u-Ce;f+=Ce){const e=rt(Pe,tt(t,f,f+Ce));a&&o.update(e);const s=i.update(e);a||o.update(s),n.set(nt(Pe,s),f+r)}return e.pending=tt(t,f),n}async function $e(n,r,s,a){n.password=null;const i=me(s),o=await async function(e,t,n,r,s){if(!Ge)return De.importKey(t);try{return await Ve.importKey(e,t,n,r,s)}catch(e){return Ge=!1,De.importKey(t)}}(Ae,i,Re,!1,Me),c=await async function(e,t,n){if(!Xe)return De.pbkdf2(t,e.salt,He.iterations,n);try{return await Ve.deriveBits(e,t,n)}catch(r){return Xe=!1,De.pbkdf2(t,e.salt,He.iterations,n)}}(t.assign({salt:a},He),o,8*(2*Be[r]+2)),u=new l(c),f=rt(Pe,tt(u,0,Be[r])),d=rt(Pe,tt(u,Be[r],2*Be[r])),h=tt(u,2*Be[r]);return t.assign(n,{keys:{key:f,authentication:d,passwordVerification:h},ctr:new je(new Oe(f),e.from(Le)),hmac:new Ze(d)}),h}function et(e,t){let n=e;return e.length+t.length&&(n=new l(e.length+t.length),n.set(e,0),n.set(t,e.length)),n}function tt(e,t,n){return e.subarray(t,n)}function nt(e,t){return e.fromBits(t)}function rt(e,t){return e.toBits(t)}const st=12;class at extends S{constructor({password:e,passwordVerification:n}){super({start(){t.assign(this,{password:e,passwordVerification:n}),lt(this,e)},transform(e,t){const n=this;if(n.password){const t=ot(n,e.subarray(0,st));if(n.password=null,t[11]!=n.passwordVerification)throw new c(xe);e=e.subarray(st)}t.enqueue(ot(n,e))}})}}class it extends S{constructor({password:e,passwordVerification:n}){super({start(){t.assign(this,{password:e,passwordVerification:n}),lt(this,e)},transform(e,t){const n=this;let r,s;if(n.password){n.password=null;const t=Ee(new l(st));t[11]=n.passwordVerification,r=new l(e.length+t.length),r.set(ct(n,t),0),s=st}else r=new l(e.length),s=0;r.set(ct(n,e),s),t.enqueue(r)}})}}function ot(e,t){const n=new l(t.length);for(let r=0;r<t.length;r++)n[r]=ft(e)^t[r],ut(e,n[r]);return n}function ct(e,t){const n=new l(t.length);for(let r=0;r<t.length;r++)n[r]=ft(e)^t[r],ut(e,t[r]);return n}function lt(e,n){const r=[305419896,591751049,878082192];t.assign(e,{keys:r,crcKey0:new we(r[0]),crcKey2:new we(r[2])});for(let t=0;t<n.length;t++)ut(e,n.charCodeAt(t))}function ut(e,t){let[n,r,a]=e.keys;e.crcKey0.append([t]),n=~e.crcKey0.get(),r=ht(s.imul(ht(r+dt(n)),134775813)+1),e.crcKey2.append([r>>>24]),a=~e.crcKey2.get(),e.keys=[n,r,a]}function ft(e){const t=2|e.keys[2];return dt(s.imul(t,1^t)>>>8)}function dt(e){return 255&e}function ht(e){return 4294967295&e}const pt="deflate-raw";class wt extends S{constructor(e,{chunkSize:t,CompressionStream:n,CompressionStreamNative:r}){super({});const{compressed:s,encrypted:a,useCompressionStream:i,zipCrypto:o,signed:c,level:l}=e,u=this;let f,h,p=mt(super.readable);a&&!o||!c||([p,f]=p.tee(),f=St(f,new ge)),s&&(p=bt(p,i,{level:l,chunkSize:t},r,n)),a&&(o?p=St(p,new it(e)):(h=new Qe(e),p=St(p,h))),yt(u,p,(async()=>{let e;a&&!o&&(e=h.signature),a&&!o||!c||(e=await f.getReader().read(),e=new d(e.value.buffer).getUint32(0)),u.signature=e}))}}class gt extends S{constructor(e,{chunkSize:t,DecompressionStream:n,DecompressionStreamNative:r}){super({});const{zipCrypto:s,encrypted:a,signed:i,signature:o,compressed:l,useCompressionStream:u}=e;let f,h,p=mt(super.readable);a&&(s?p=St(p,new at(e)):(h=new Je(e),p=St(p,h))),l&&(p=bt(p,u,{chunkSize:t},r,n)),a&&!s||!i||([p,f]=p.tee(),f=St(f,new ge)),yt(this,p,(async()=>{if((!a||s)&&i){const e=await f.getReader().read(),t=new d(e.value.buffer);if(o!=t.getUint32(0,!1))throw new c(Fe)}}))}}function mt(e){return St(e,new S({transform(e,t){e&&e.length&&t.enqueue(e)}}))}function yt(e,n,r){n=St(n,new S({flush:r})),t.defineProperty(e,"readable",{get:()=>n})}function bt(e,t,n,r,s){try{e=St(e,new(t&&r?r:s)(pt,n))}catch(r){if(!t)throw r;e=St(e,new s(pt,n))}return e}function St(e,t){return e.pipeThrough(t)}const vt="message",zt="start",kt="pull",Dt="data",_t="ack",xt="close",Ft="deflate",Et="inflate";class Ct extends S{constructor(e,n){super({});const r=this,{codecType:s}=e;let a;s.startsWith(Ft)?a=wt:s.startsWith(Et)&&(a=gt);let i=0;const o=new a(e,n),c=super.readable,l=new S({transform(e,t){e&&e.length&&(i+=e.length,t.enqueue(e))},flush(){const{signature:e}=o;t.assign(r,{signature:e,size:i})}});t.defineProperty(r,"readable",{get:()=>c.pipeThrough(o).pipeThrough(l)})}}const At=typeof x!=ee;class Tt{constructor(e,{readable:n,writable:r},{options:s,config:a,streamOptions:i,useWebWorkers:o,transferStreams:c,scripts:l},u){const{signal:f}=i;return t.assign(e,{busy:!0,readable:n.pipeThrough(new Rt(n,i,a),{signal:f}),writable:r,options:t.assign({},s),scripts:l,transferStreams:c,terminate(){const{worker:t,busy:n}=e;t&&!n&&(t.terminate(),e.interface=null)},onTaskFinished(){e.busy=!1,u(e)}}),(o&&At?Ut:Mt)(e,a)}}class Rt extends S{constructor(e,{onstart:t,onprogress:n,size:r,onend:s},{chunkSize:a}){let i=0;super({start(){t&&Ht(t,r)},async transform(e,t){i+=e.length,n&&await Ht(n,i,r),t.enqueue(e)},flush(){e.size=i,s&&Ht(s,i)}},{highWaterMark:1,size:()=>a})}}async function Ht(e,...t){try{await e(...t)}catch(e){}}function Mt(e,t){return{run:()=>async function({options:e,readable:t,writable:n,onTaskFinished:r},s){const a=new Ct(e,s);try{await t.pipeThrough(a).pipeTo(n,{preventClose:!0,preventAbort:!0});const{signature:e,size:r}=a;return{signature:e,size:r}}finally{r()}}(e,t)}}function Ut(e,{baseURL:n,chunkSize:r}){return e.interface||t.assign(e,{worker:Lt(e.scripts[0],n,e),interface:{run:()=>async function(e,n){let r,s;const a=new p(((e,t)=>{r=e,s=t}));t.assign(e,{reader:null,writer:null,resolveResult:r,rejectResult:s,result:a});const{readable:i,options:o,scripts:c}=e,{writable:l,closed:u}=function(e){const t=e.getWriter();let n;const r=new p((e=>n=e)),s=new z({async write(e){await t.ready,await t.write(e)},close(){t.releaseLock(),n()},abort:e=>t.abort(e)});return{writable:s,closed:r}}(e.writable),f=Nt({type:zt,scripts:c.slice(1),options:o,config:n,readable:i,writable:l},e);f||t.assign(e,{reader:i.getReader(),writer:l.getWriter()});const d=await a;try{await l.close()}catch(e){}return await u,d}(e,{chunkSize:r})}}),e.interface}let Bt=!0,Wt=!0;function Lt(e,n,r){const s={type:"module"};let a,i;typeof e==te&&(e=e());try{a=new o(e,n)}catch(t){a=e}if(Bt)try{i=new x(a)}catch(e){Bt=!1,i=new x(a,s)}else i=new x(a,s);return i.addEventListener(vt,(e=>async function({data:e},n){const{type:r,value:s,messageId:a,result:i,error:o}=e,{reader:u,writer:f,resolveResult:d,rejectResult:h,onTaskFinished:p}=n;try{if(o){const{message:e,stack:n,code:r,name:s}=o,a=new c(e);t.assign(a,{stack:n,code:r,name:s}),w(a)}else{if(r==kt){const{value:e,done:t}=await u.read();Nt({type:Dt,value:e,done:t,messageId:a},n)}r==Dt&&(await f.ready,await f.write(new l(s)),Nt({type:_t,messageId:a},n)),r==xt&&w(null,i)}}catch(o){w(o)}function w(e,t){e?h(e):d(t),f&&f.releaseLock(),p()}}(e,r))),i}function Nt(e,{worker:t,writer:n,onTaskFinished:r,transferStreams:s}){try{let{value:n,readable:r,writable:a}=e;const i=[];if(n){const{buffer:t,length:r}=n;r!=t.byteLength&&(n=new l(n)),e.value=n.buffer,i.push(e.value)}if(s&&Wt?(r&&i.push(r),a&&i.push(a)):e.readable=e.writable=null,i.length)try{return t.postMessage(e,i),!0}catch(n){Wt=!1,e.readable=e.writable=null,t.postMessage(e)}else t.postMessage(e)}catch(e){throw n&&n.releaseLock(),r(),e}}let qt=[];const It=[];let Vt=0;async function Kt(e,t){const{options:n,config:r}=t,{transferStreams:s,useWebWorkers:a,useCompressionStream:i,codecType:o,compressed:c,signed:l,encrypted:u}=n,{workerScripts:f,maxWorkers:d,terminateWorkerTimeout:h}=r;t.transferStreams=s||s===$;const w=!(c||l||u||t.transferStreams);let g;t.useWebWorkers=!w&&(a||a===$&&r.useWebWorkers),t.scripts=t.useWebWorkers&&f?f[o]:[],n.useCompressionStream=i||i===$&&r.useCompressionStream;const m=qt.find((e=>!e.busy));if(m)Pt(m),g=new Tt(m,e,t,y);else if(qt.length<d){const n={indexWorker:Vt};Vt++,qt.push(n),g=new Tt(n,e,t,y)}else g=await new p((n=>It.push({resolve:n,stream:e,workerOptions:t})));return g.run();function y(e){if(It.length){const[{resolve:t,stream:n,workerOptions:r}]=It.splice(0,1);t(new Tt(e,n,r,y))}else e.worker?(Pt(e),Number.isFinite(h)&&h>=0&&(e.terminateTimeout=setTimeout((()=>{qt=qt.filter((t=>t!=e)),e.terminate()}),h))):qt=qt.filter((t=>t!=e))}}function Pt(e){const{terminateTimeout:t}=e;t&&(clearTimeout(t),e.terminateTimeout=null)}function Ot(){qt.forEach((e=>{Pt(e),e.terminate()}))}const jt="HTTP error ",Zt="HTTP Range not supported",Gt="Writer iterator completed too soon",Xt="Content-Length",Jt="Range",Qt="HEAD",Yt="GET",$t="bytes",en=65536,tn="writable";class nn{constructor(){this.size=0}init(){this.initialized=!0}}class rn extends nn{get readable(){const e=this,{chunkSize:t=en}=e,n=new v({start(){this.chunkOffset=0},async pull(r){const{offset:a=0,size:i,diskNumberStart:o}=n,{chunkOffset:c}=this;r.enqueue(await Mn(e,a+c,s.min(t,i-c),o)),c+t>i?r.close():this.chunkOffset+=t}});return n}}class sn extends nn{constructor(){super();const e=this,n=new z({write:t=>e.writeUint8Array(t)});t.defineProperty(e,tn,{get:()=>n})}writeUint8Array(){}}class an extends rn{constructor(e){super();let n=e.length;for(;"="==e.charAt(n-1);)n--;const r=e.indexOf(",")+1;t.assign(this,{dataURI:e,dataStart:r,size:s.floor(.75*(n-r))})}readUint8Array(e,t){const{dataStart:n,dataURI:r}=this,a=new l(t),i=4*s.floor(e/3),o=atob(r.substring(i+n,4*s.ceil((e+t)/3)+n)),c=e-3*s.floor(i/4);for(let e=c;e<c+t;e++)a[e-c]=o.charCodeAt(e);return a}}class on extends sn{constructor(e){super(),t.assign(this,{data:"data:"+(e||"")+";base64,",pending:[]})}writeUint8Array(e){const t=this;let r=0,a=t.pending;const i=t.pending.length;for(t.pending="",r=0;r<3*s.floor((i+e.length)/3)-i;r++)a+=n.fromCharCode(e[r]);for(;r<e.length;r++)t.pending+=n.fromCharCode(e[r]);a.length>2?t.data+=b(a):t.pending=a}getData(){return this.data+b(this.pending)}}class cn extends rn{constructor(e){super(),t.assign(this,{blob:e,size:e.size})}async readUint8Array(e,t){const n=this,r=e+t,s=e||r<n.size?n.blob.slice(e,r):n.blob;return new l(await s.arrayBuffer())}}class ln extends nn{constructor(e){super();const n=new S,r=[];e&&r.push(["Content-Type",e]),t.defineProperty(this,tn,{get:()=>n.writable}),this.blob=new Response(n.readable,{headers:r}).blob()}getData(){return this.blob}}class un extends cn{constructor(e){super(new h([e],{type:"text/plain"}))}}class fn extends ln{constructor(e){super(e),t.assign(this,{encoding:e,utf8:!e||"utf-8"==e.toLowerCase()})}async getData(){const{encoding:e,utf8:n}=this,r=await super.getData();if(r.text&&n)return r.text();{const n=new FileReader;return new p(((s,a)=>{t.assign(n,{onload:({target:e})=>s(e.result),onerror:()=>a(n.error)}),n.readAsText(r,e)}))}}}class dn extends rn{constructor(e,t){super(),pn(this,e,t)}async init(){super.init(),await wn(this,kn,bn)}readUint8Array(e,t){return gn(this,e,t,kn,bn)}}class hn extends rn{constructor(e,t){super(),pn(this,e,t)}async init(){super.init(),await wn(this,Dn,Sn)}readUint8Array(e,t){return gn(this,e,t,Dn,Sn)}}function pn(e,n,r){const{preventHeadRequest:s,useRangeHeader:a,forceRangeRequests:i}=r;delete(r=t.assign({},r)).preventHeadRequest,delete r.useRangeHeader,delete r.forceRangeRequests,delete r.useXHR,t.assign(e,{url:n,options:r,preventHeadRequest:s,useRangeHeader:a,forceRangeRequests:i})}async function wn(e,t,n){const{url:r,useRangeHeader:s,forceRangeRequests:a}=e;if(function(e){const{baseURL:t}=oe(),{protocol:n}=new o(e,t);return"http:"==n||"https:"==n}(r)&&(s||a)){const{headers:r}=await t(Yt,e,mn(e));if(!a&&r.get("Accept-Ranges")!=$t)throw new c(Zt);{let s;const a=r.get("Content-Range");if(a){const e=a.trim().split(/\s*\/\s*/);if(e.length){const t=e[1];t&&"*"!=t&&(s=Number(t))}}s===$?await zn(e,t,n):e.size=s}}else await zn(e,t,n)}async function gn(e,t,n,r,s){const{useRangeHeader:a,forceRangeRequests:i,options:o}=e;if(a||i){const s=await r(Yt,e,mn(e,t,n));if(206!=s.status)throw new c(Zt);return new l(await s.arrayBuffer())}{const{data:r}=e;return r||await s(e,o),new l(e.data.subarray(t,t+n))}}function mn(e,n=0,r=1){return t.assign({},yn(e),{[Jt]:$t+"="+n+"-"+(n+r-1)})}function yn({options:e}){const{headers:n}=e;if(n)return Symbol.iterator in n?t.fromEntries(n):n}async function bn(e){await vn(e,kn)}async function Sn(e){await vn(e,Dn)}async function vn(e,t){const n=await t(Yt,e,yn(e));e.data=new l(await n.arrayBuffer()),e.size||(e.size=e.data.length)}async function zn(e,t,n){if(e.preventHeadRequest)await n(e,e.options);else{const r=(await t(Qt,e,yn(e))).headers.get(Xt);r?e.size=Number(r):await n(e,e.options)}}async function kn(e,{options:n,url:r},s){const a=await fetch(r,t.assign({},n,{method:e,headers:s}));if(a.status<400)return a;throw 416==a.status?new c(Zt):new c(jt+(a.statusText||a.status))}function Dn(e,{url:n},r){return new p(((s,a)=>{const o=new XMLHttpRequest;if(o.addEventListener("load",(()=>{if(o.status<400){const e=[];o.getAllResponseHeaders().trim().split(/[\r\n]+/).forEach((t=>{const n=t.trim().split(/\s*:\s*/);n[0]=n[0].trim().replace(/^[a-z]|-[a-z]/g,(e=>e.toUpperCase())),e.push(n)})),s({status:o.status,arrayBuffer:()=>o.response,headers:new i(e)})}else a(416==o.status?new c(Zt):new c(jt+(o.statusText||o.status)))}),!1),o.addEventListener("error",(e=>a(e.detail.error)),!1),o.open(e,n),r)for(const e of t.entries(r))o.setRequestHeader(e[0],e[1]);o.responseType="arraybuffer",o.send()}))}class _n extends rn{constructor(e,n={}){super(),t.assign(this,{url:e,reader:n.useXHR?new hn(e,n):new dn(e,n)})}set size(e){}get size(){return this.reader.size}async init(){super.init(),await this.reader.init()}readUint8Array(e,t){return this.reader.readUint8Array(e,t)}}class xn extends _n{constructor(e,t={}){t.useRangeHeader=!0,super(e,t)}}class Fn extends rn{constructor(e){super(),t.assign(this,{array:e,size:e.length})}readUint8Array(e,t){return this.array.slice(e,e+t)}}class En extends sn{init(e=0){super.init(),t.assign(this,{offset:0,array:new l(e)})}writeUint8Array(e){const t=this;if(t.offset+e.length>t.array.length){const n=t.array;t.array=new l(n.length+e.length),t.array.set(n)}t.array.set(e,t.offset),t.offset+=e.length}getData(){return this.array}}class Cn extends rn{constructor(e){super(),this.readers=e}async init(){super.init();const e=this,{readers:t}=e;e.lastDiskNumber=0,await p.all(t.map((async t=>{await t.init(),e.size+=t.size})))}async readUint8Array(e,t,n=0){const r=this,{readers:a}=this;let i,o=n;-1==o&&(o=a.length-1);let c=e;for(;c>=a[o].size;)c-=a[o].size,o++;const u=a[o],f=u.size;if(c+t<=f)i=await Mn(u,c,t);else{const s=f-c;i=new l(t),i.set(await Mn(u,c,s)),i.set(await r.readUint8Array(e+s,t-s,n),s)}return r.lastDiskNumber=s.max(o,r.lastDiskNumber),i}}class An extends nn{constructor(e,n=4294967295){super();const r=this;let s,a,i;t.assign(r,{diskNumber:0,diskOffset:0,size:0,maxSize:n,availableSize:n});const o=new z({async write(t){const{availableSize:n}=r;if(i)t.length>=n?(await l(t.slice(0,n)),await u(),r.diskOffset+=s.size,r.diskNumber++,i=null,await this.write(t.slice(n))):await l(t);else{const{value:n,done:o}=await e.next();if(o&&!n)throw new c(Gt);s=n,s.size=0,s.maxSize&&(r.maxSize=s.maxSize),r.availableSize=r.maxSize,await Tn(s),a=n.writable,i=a.getWriter(),await this.write(t)}},async close(){await i.ready,await u()}});async function l(e){const t=e.length;t&&(await i.ready,await i.write(e),s.size+=t,r.size+=t,r.availableSize-=t)}async function u(){a.size=s.size,await i.close()}t.defineProperty(r,tn,{get:()=>o})}}async function Tn(e,t){e.init&&!e.initialized&&await e.init(t)}function Rn(t){return e.isArray(t)&&(t=new Cn(t)),t instanceof v&&(t={readable:t}),t}function Hn(e){e.writable===$&&typeof e.next==te&&(e=new An(e)),e instanceof z&&(e={writable:e});const{writable:n}=e;n.size===$&&(n.size=0);return e instanceof An||t.assign(e,{diskNumber:0,diskOffset:0,availableSize:1/0,maxSize:1/0}),e}function Mn(e,t,n,r){return e.readUint8Array(t,n,r)}const Un=Cn,Bn=An,Wn="\0☺☻♥♦♣♠•◘○◙♂♀♪♫☼►◄↕‼¶§▬↨↑↓→←∟↔▲▼ !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~⌂ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜ¢£¥₧ƒáíóúñÑªº¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ ".split(""),Ln=256==Wn.length;function Nn(e,t){return t&&"cp437"==t.trim().toLowerCase()?function(e){if(Ln){let t="";for(let n=0;n<e.length;n++)t+=Wn[e[n]];return t}return(new g).decode(e)}(e):new g(t).decode(e)}const qn="filename",In="rawFilename",Vn="comment",Kn="rawComment",Pn="uncompressedSize",On="compressedSize",jn="offset",Zn="diskNumberStart",Gn="lastModDate",Xn="rawLastModDate",Jn="lastAccessDate",Qn="rawLastAccessDate",Yn="creationDate",$n="rawCreationDate",er="internalFileAttribute",tr="externalFileAttribute",nr="msDosCompatible",rr="zip64",sr=[qn,In,On,Pn,Gn,Xn,Vn,Kn,Jn,Yn,jn,Zn,Zn,er,tr,nr,rr,"directory","bitFlag","encrypted","signature","filenameUTF8","commentUTF8","compressionMethod","version","versionMadeBy","extraField","rawExtraField","extraFieldZip64","extraFieldUnicodePath","extraFieldUnicodeComment","extraFieldAES","extraFieldNTFS","extraFieldExtendedTimestamp"];class ar{constructor(e){sr.forEach((t=>this[t]=e[t]))}}const ir="File format is not recognized",or="End of central directory not found",cr="End of Zip64 central directory not found",lr="End of Zip64 central directory locator not found",ur="Central directory header not found",fr="Local file header not found",dr="Zip64 extra field not found",hr="File contains encrypted entry",pr="Encryption method not supported",wr="Compression method not supported",gr="Split zip file",mr="utf-8",yr="cp437",br=[[Pn,F],[On,F],[jn,F],[Zn,E]],Sr={[E]:{getValue:Tr,bytes:4},[F]:{getValue:Rr,bytes:8}};class vr{constructor(e,n={}){t.assign(this,{reader:Rn(e),options:n,config:oe()})}async*getEntriesGenerator(e={}){const n=this;let{reader:r}=n;const{config:a}=n;if(await Tn(r),r.size!==$&&r.readUint8Array||(r=new cn(await new Response(r.readable).blob()),await Tn(r)),r.size<N)throw new c(ir);r.chunkSize=ce(a);const i=await async function(e,t,n,r,a){const i=new l(4);!function(e,t,n){e.setUint32(t,n,!0)}(Hr(i),0,t);const o=r+a;return await c(r)||await c(s.min(o,n));async function c(t){const s=n-t,a=await Mn(e,s,t);for(let e=a.length-r;e>=0;e--)if(a[e]==i[0]&&a[e+1]==i[1]&&a[e+2]==i[2]&&a[e+3]==i[3])return{offset:s+e,buffer:a.slice(e,e+r).buffer}}}(r,B,r.size,N,16*E);if(!i){throw Tr(Hr(await Mn(r,0,4)))==H?new c(gr):new c(or)}const o=Hr(i);let u=Tr(o,12),f=Tr(o,16);const d=i.offset,h=Ar(o,20),w=d+N+h;let g=Ar(o,4);const m=r.lastDiskNumber||0;let y=Ar(o,6),b=Ar(o,8),S=0,v=0;if(f==F||u==F||b==E||y==E){const e=Hr(await Mn(r,i.offset-20,20));if(Tr(e,0)!=L)throw new c(cr);f=Rr(e,8);let t=await Mn(r,f,56,-1),n=Hr(t);const s=i.offset-20-56;if(Tr(n,0)!=W&&f!=s){const e=f;f=s,S=f-e,t=await Mn(r,f,56,-1),n=Hr(t)}if(Tr(n,0)!=W)throw new c(lr);g==E&&(g=Tr(n,16)),y==E&&(y=Tr(n,20)),b==E&&(b=Rr(n,32)),u==F&&(u=Rr(n,40)),f-=u}if(m!=g)throw new c(gr);if(f<0||f>=r.size)throw new c(ir);let z=0,k=await Mn(r,f,u,y),D=Hr(k);if(u){const e=i.offset-u;if(Tr(D,z)!=U&&f!=e){const t=f;f=e,S=f-t,k=await Mn(r,f,u,y),D=Hr(k)}}if(f<0||f>=r.size)throw new c(ir);const _=xr(n,e,"filenameEncoding"),x=xr(n,e,"commentEncoding");for(let i=0;i<b;i++){const o=new zr(r,a,n.options);if(Tr(D,z)!=U)throw new c(ur);kr(o,D,z+6);const l=Boolean(o.bitFlag.languageEncodingFlag),u=z+46,f=u+o.filenameLength,d=f+o.extraFieldLength,h=Ar(D,z+4),w=0==(0&h),g=k.subarray(u,f),m=Ar(D,z+32),y=d+m,F=k.subarray(d,y),E=l,C=l,A=w&&16==(16&Cr(D,z+38)),T=Tr(D,z+42)+S;t.assign(o,{versionMadeBy:h,msDosCompatible:w,compressedSize:0,uncompressedSize:0,commentLength:m,directory:A,offset:T,diskNumberStart:Ar(D,z+34),internalFileAttribute:Ar(D,z+36),externalFileAttribute:Tr(D,z+38),rawFilename:g,filenameUTF8:E,commentUTF8:C,rawExtraField:k.subarray(f,d)});const[R,H]=await p.all([Nn(g,E?mr:_||yr),Nn(F,C?mr:x||yr)]);t.assign(o,{rawComment:F,filename:R,comment:H,directory:A||R.endsWith(J)}),v=s.max(T,v),await Dr(o,o,D,z+6);const M=new ar(o);M.getData=(e,t)=>o.getData(e,M,t),z=y;const{onprogress:B}=e;if(B)try{await B(i+1,b,new ar(o))}catch(e){}yield M}const C=xr(n,e,"extractPrependedData"),A=xr(n,e,"extractAppendedData");return C&&(n.prependedData=v>0?await Mn(r,0,v):new l),n.comment=h?await Mn(r,d+N,h):new l,A&&(n.appendedData=w<r.size?await Mn(r,w,r.size-w):new l),!0}async getEntries(e={}){const t=[];for await(const n of this.getEntriesGenerator(e))t.push(n);return t}async close(){}}class zr{constructor(e,n,r){t.assign(this,{reader:e,config:n,options:r})}async getData(e,n,r={}){const s=this,{reader:a,offset:i,diskNumberStart:o,extraFieldAES:u,compressionMethod:f,config:d,bitFlag:h,signature:p,rawLastModDate:w,uncompressedSize:g,compressedSize:m}=s,y=s.localDirectory={},b=Hr(await Mn(a,i,30,o));let S=xr(s,r,"password");if(S=S&&S.length&&S,u&&u.originalCompressionMethod!=T)throw new c(wr);if(f!=A&&f!=C)throw new c(wr);if(Tr(b,0)!=R)throw new c(fr);kr(y,b,4),y.rawExtraField=y.extraFieldLength?await Mn(a,i+30+y.filenameLength,y.extraFieldLength,o):new l,await Dr(s,y,b,4),t.assign(n,{lastAccessDate:y.lastAccessDate,creationDate:y.creationDate});const v=s.encrypted&&y.encrypted,z=v&&!u;if(v){if(!z&&u.strength===$)throw new c(pr);if(!S)throw new c(hr)}const k=i+30+y.filenameLength+y.extraFieldLength,D=a.readable;D.diskNumberStart=o,D.offset=k;const _=D.size=m,x=xr(s,r,"signal");e=Hn(e),await Tn(e,g);const{writable:F}=e,{onstart:E,onprogress:H,onend:M}=r,U={options:{codecType:Et,password:S,zipCrypto:z,encryptionStrength:u&&u.strength,signed:xr(s,r,"checkSignature"),passwordVerification:z&&(h.dataDescriptor?w>>>8&255:p>>>24&255),signature:p,compressed:0!=f,encrypted:v,useWebWorkers:xr(s,r,"useWebWorkers"),useCompressionStream:xr(s,r,"useCompressionStream"),transferStreams:xr(s,r,"transferStreams")},config:d,streamOptions:{signal:x,size:_,onstart:E,onprogress:H,onend:M}};F.size+=(await Kt({readable:D,writable:F},U)).size;return xr(s,r,"preventClose")||await F.close(),e.getData?e.getData():F}}function kr(e,n,r){const s=e.rawBitFlag=Ar(n,r+2),a=(s&O)==O,i=Tr(n,r+6);t.assign(e,{encrypted:a,version:Ar(n,r),bitFlag:{level:(6&s)>>1,dataDescriptor:(s&j)==j,languageEncodingFlag:(s&Z)==Z},rawLastModDate:i,lastModDate:Fr(i),filenameLength:Ar(n,r+22),extraFieldLength:Ar(n,r+24)})}async function Dr(e,n,r,s){const{rawExtraField:o}=n,u=n.extraField=new i,f=Hr(new l(o));let d=0;try{for(;d<o.length;){const e=Ar(f,d),t=Ar(f,d+2);u.set(e,{type:e,data:o.slice(d+4,d+4+t)}),d+=4+t}}catch(e){}const h=Ar(r,s+4);t.assign(n,{signature:Tr(r,s+10),uncompressedSize:Tr(r,s+18),compressedSize:Tr(r,s+14)});const p=u.get(q);p&&(!function(e,t){t.zip64=!0;const n=Hr(e.data),r=br.filter((([e,n])=>t[e]==n));for(let s=0,a=0;s<r.length;s++){const[i,o]=r[s];if(t[i]==o){const r=Sr[o];t[i]=e[i]=r.getValue(n,a),a+=r.bytes}else if(e[i])throw new c(dr)}}(p,n),n.extraFieldZip64=p);const w=u.get(28789);w&&(await _r(w,qn,In,n,e),n.extraFieldUnicodePath=w);const g=u.get(25461);g&&(await _r(g,Vn,Kn,n,e),n.extraFieldUnicodeComment=g);const m=u.get(I);m?(!function(e,n,r){const s=Hr(e.data),a=Cr(s,4);t.assign(e,{vendorVersion:Cr(s,0),vendorId:Cr(s,2),strength:a,originalCompressionMethod:r,compressionMethod:Ar(s,5)}),n.compressionMethod=e.compressionMethod}(m,n,h),n.extraFieldAES=m):n.compressionMethod=h;const y=u.get(V);y&&(!function(e,n){const r=Hr(e.data);let s,a=4;try{for(;a<e.data.length&&!s;){const t=Ar(r,a),n=Ar(r,a+2);t==K&&(s=e.data.slice(a+4,a+4+n)),a+=4+n}}catch(e){}try{if(s&&24==s.length){const r=Hr(s),a=r.getBigUint64(0,!0),i=r.getBigUint64(8,!0),o=r.getBigUint64(16,!0);t.assign(e,{rawLastModDate:a,rawLastAccessDate:i,rawCreationDate:o});const c=Er(a),l=Er(i),u={lastModDate:c,lastAccessDate:l,creationDate:Er(o)};t.assign(e,u),t.assign(n,u)}}catch(e){}}(y,n),n.extraFieldNTFS=y);const b=u.get(P);b&&(!function(e,t){const n=Hr(e.data),r=Cr(n,0),s=[],i=[];1==(1&r)&&(s.push(Gn),i.push(Xn));2==(2&r)&&(s.push(Jn),i.push(Qn));4==(4&r)&&(s.push(Yn),i.push($n));let o=1;s.forEach(((r,s)=>{if(e.data.length>=o+4){const c=Tr(n,o);t[r]=e[r]=new a(1e3*c);const l=i[s];e[l]=c}o+=4}))}(b,n),n.extraFieldExtendedTimestamp=b)}async function _r(e,n,r,s,a){const i=Hr(e.data),o=new we;o.append(a[r]);const c=Hr(new l(4));c.setUint32(0,o.get(),!0),t.assign(e,{version:Cr(i,0),signature:Tr(i,1),[n]:await Nn(e.data.subarray(5)),valid:!a.bitFlag.languageEncodingFlag&&e.signature==Tr(c,0)}),e.valid&&(s[n]=e[n],s[n+"UTF8"]=!0)}function xr(e,t,n){return t[n]===$?e.options[n]:t[n]}function Fr(e){const t=(4294901760&e)>>16,n=65535&e;try{return new a(1980+((65024&t)>>9),((480&t)>>5)-1,31&t,(63488&n)>>11,(2016&n)>>5,2*(31&n),0)}catch(e){}}function Er(e){return new a(Number(e/r(1e4)-r(116444736e5)))}function Cr(e,t){return e.getUint8(t)}function Ar(e,t){return e.getUint16(t,!0)}function Tr(e,t){return e.getUint32(t,!0)}function Rr(e,t){return Number(e.getBigUint64(t,!0))}function Hr(e){return new d(e.buffer)}const Mr="File already exists",Ur="Zip file comment exceeds 64KB",Br="File entry comment exceeds 64KB",Wr="File entry name exceeds 64KB",Lr="Version exceeds 65535",Nr="The strength must equal 1, 2, or 3",qr="Extra field type exceeds 65535",Ir="Extra field data exceeds 64KB",Vr="Zip64 is not supported (make sure 'keepOrder' is set to 'true')",Kr=new l([7,0,2,0,65,69,3,0,0]);let Pr=0;const Or=[];class jr{constructor(e,n={}){e=Hn(e),t.assign(this,{writer:e,addSplitZipSignature:e instanceof An,options:n,config:oe(),files:new i,filenames:new Set,offset:e.writable.size,pendingEntriesSize:0,pendingAddFileCalls:new Set,bufferedWrites:0})}async add(n="",i,o={}){const h=this,{pendingAddFileCalls:w,config:g}=h;let m;Pr<g.maxWorkers?Pr++:await new p((e=>Or.push(e)));try{if(n=n.trim(),h.filenames.has(n))throw new c(Mr);return h.filenames.add(n),m=async function(n,i,o,h){i=i.trim(),h.directory&&!i.endsWith(J)?i+=J:h.directory=i.endsWith(J);const w=me(i);if(ns(w)>E)throw new c(Wr);const g=h.comment||"",m=me(g);if(ns(m)>E)throw new c(Br);const y=Xr(n,h,"version",20);if(y>E)throw new c(Lr);const b=Xr(n,h,"versionMadeBy",20);if(b>E)throw new c(Lr);const S=Xr(n,h,Gn,new a),v=Xr(n,h,Jn),z=Xr(n,h,Yn),k=Xr(n,h,nr,!0),D=Xr(n,h,er,0),_=Xr(n,h,tr,0),x=Xr(n,h,"password"),U=Xr(n,h,"encryptionStrength",3),B=Xr(n,h,"zipCrypto"),W=Xr(n,h,"extendedTimestamp",!0),L=Xr(n,h,"keepOrder",!0),N=Xr(n,h,"level"),ee=Xr(n,h,"useWebWorkers"),te=Xr(n,h,"bufferedWrite"),ne=Xr(n,h,"dataDescriptorSignature",!1),re=Xr(n,h,"signal"),se=Xr(n,h,"useCompressionStream");let ae=Xr(n,h,"dataDescriptor",!0),ie=Xr(n,h,rr);if(x!==$&&U!==$&&(U<1||U>3))throw new c(Nr);let oe=new l;const{extraField:le}=h;if(le){let e=0,t=0;le.forEach((t=>e+=4+ns(t))),oe=new l(e),le.forEach(((e,n)=>{if(n>E)throw new c(qr);if(ns(e)>E)throw new c(Ir);es(oe,new u([n]),t),es(oe,new u([ns(e)]),t+2),es(oe,e,t+4),t+=4+ns(e)}))}let ue=0,fe=0,de=0;const he=!0===ie;o&&(o=Rn(o),await Tn(o),o.size===$?(ae=!0,(ie||ie===$)&&(ie=!0,ue=F)):(de=o.size,ue=function(e){return e+5*(s.floor(e/16383)+1)}(de)));const{diskOffset:pe,diskNumber:we,maxSize:ge}=n.writer,ye=he||de>=F,be=he||ue>=F,Se=he||n.offset+n.pendingEntriesSize-pe>=F,ve=Xr(n,h,"supportZip64SplitFile",!0),ze=ve&&he||we+s.ceil(n.pendingEntriesSize/ge)>=E;if(Se||ye||be||ze){if(!1===ie||!L)throw new c(Vr);ie=!0}ie=ie||!1,h=t.assign({},h,{rawFilename:w,rawComment:m,version:y,versionMadeBy:b,lastModDate:S,lastAccessDate:v,creationDate:z,rawExtraField:oe,zip64:ie,zip64UncompressedSize:ye,zip64CompressedSize:be,zip64Offset:Se,zip64DiskNumberStart:ze,password:x,level:N,useWebWorkers:ee,encryptionStrength:U,extendedTimestamp:W,zipCrypto:B,bufferedWrite:te,keepOrder:L,dataDescriptor:ae,dataDescriptorSignature:ne,signal:re,msDosCompatible:k,internalFileAttribute:D,externalFileAttribute:_,useCompressionStream:se});const ke=function(e){const{rawFilename:t,lastModDate:n,lastAccessDate:r,creationDate:a,password:i,level:o,zip64:c,zipCrypto:u,dataDescriptor:d,directory:h,rawExtraField:p,encryptionStrength:w,extendedTimestamp:g}=e,m=0!==o&&!h,y=Boolean(i&&ns(i));let b,S,v,z=e.version;if(y&&!u){b=new l(ns(Kr)+2);const e=ts(b);Qr(e,0,I),es(b,Kr,2),Jr(e,8,w)}else b=new l;if(g){v=new l(9+(r?4:0)+(a?4:0));const e=ts(v);Qr(e,0,P),Qr(e,2,ns(v)-4);Jr(e,4,1+(r?2:0)+(a?4:0)),Yr(e,5,s.floor(n.getTime()/1e3)),r&&Yr(e,9,s.floor(r.getTime()/1e3)),a&&Yr(e,13,s.floor(a.getTime()/1e3));try{S=new l(36);const e=ts(S),t=Gr(n);Qr(e,0,V),Qr(e,2,32),Qr(e,8,K),Qr(e,10,24),$r(e,12,t),$r(e,20,Gr(r)||t),$r(e,28,Gr(a)||t)}catch(e){S=new l}}else S=v=new l;let k=Z;d&&(k|=j);let D=A;m&&(D=C);c&&(z=z>G?z:G);y&&(k|=O,u||(z=z>X?z:X,D=T,m&&(b[9]=C)));const _=new l(26),x=ts(_);Qr(x,0,z),Qr(x,2,k),Qr(x,4,D);const F=new f(1),E=ts(F);let H;H=n<Y?Y:n>Q?Q:n;Qr(E,0,(H.getHours()<<6|H.getMinutes())<<5|H.getSeconds()/2),Qr(E,2,(H.getFullYear()-1980<<4|H.getMonth()+1)<<5|H.getDate());const M=F[0];Yr(x,6,M),Qr(x,22,ns(t));const U=ns(b,v,S,p);Qr(x,24,U);const B=new l(30+ns(t)+U);return Yr(ts(B),0,R),es(B,_,4),es(B,t,30),es(B,b,30+ns(t)),es(B,v,30+ns(t,b)),es(B,S,30+ns(t,b,v)),es(B,p,30+ns(t,b,v,S)),{localHeaderArray:B,headerArray:_,headerView:x,lastModDate:n,rawLastModDate:M,encrypted:y,compressed:m,version:z,compressionMethod:D,rawExtraFieldExtendedTimestamp:v,rawExtraFieldNTFS:S,rawExtraFieldAES:b}}(h),De=function(e){const{zip64:t,dataDescriptor:n,dataDescriptorSignature:r}=e;let s,a=new l,i=0;n&&(a=new l(t?r?24:20:r?16:12),s=ts(a),r&&(i=4,Yr(s,0,M)));return{dataDescriptorArray:a,dataDescriptorView:s,dataDescriptorOffset:i}}(h);let _e;fe=ns(ke.localHeaderArray,De.dataDescriptorArray)+ue,n.pendingEntriesSize+=fe;try{_e=await async function(n,s,a,i,o){const{files:u,writer:f}=n,{keepOrder:h,dataDescriptor:w,signal:g}=o,{headerInfo:m}=i,y=e.from(u.values()).pop();let b,S,v,z,k,D,_={};u.set(s,_);try{let e;h&&(e=y&&y.lock,x()),o.bufferedWrite||n.writerLocked||n.bufferedWrites&&h||!w?(D=new ln,D.writable.size=0,b=!0,n.bufferedWrites++,await Tn(f)):(D=f,await E()),await Tn(D);const{writable:p}=f;let{diskOffset:m}=f;if(n.addSplitZipSignature){delete n.addSplitZipSignature;const e=new l(4);Yr(ts(e),0,H),await Zr(p,e),n.offset+=4}b||(await e,await C(p));const{diskNumber:S}=f;if(k=!0,_.diskNumberStart=S,_=await async function(e,n,{diskNumberStart:s,lock:a},i,o,c){const{headerInfo:u,dataDescriptorInfo:f}=i,{localHeaderArray:d,headerArray:h,lastModDate:p,rawLastModDate:w,encrypted:g,compressed:m,version:y,compressionMethod:b,rawExtraFieldExtendedTimestamp:S,rawExtraFieldNTFS:v,rawExtraFieldAES:z}=u,{dataDescriptorArray:k}=f,{rawFilename:D,lastAccessDate:_,creationDate:x,password:E,level:C,zip64:A,zip64UncompressedSize:T,zip64CompressedSize:R,zip64Offset:H,zip64DiskNumberStart:M,zipCrypto:U,dataDescriptor:B,directory:W,versionMadeBy:L,rawComment:N,rawExtraField:I,useWebWorkers:V,onstart:K,onprogress:P,onend:O,signal:j,encryptionStrength:Z,extendedTimestamp:G,msDosCompatible:X,internalFileAttribute:J,externalFileAttribute:Q,useCompressionStream:Y}=c,ee={lock:a,versionMadeBy:L,zip64:A,directory:Boolean(W),filenameUTF8:!0,rawFilename:D,commentUTF8:!0,rawComment:N,rawExtraFieldExtendedTimestamp:S,rawExtraFieldNTFS:v,rawExtraFieldAES:z,rawExtraField:I,extendedTimestamp:G,msDosCompatible:X,internalFileAttribute:J,externalFileAttribute:Q,diskNumberStart:s};let te,ne=0,re=0;const{writable:se}=n;if(e){e.chunkSize=ce(o),await Zr(se,d);const t=e.readable,n=t.size=e.size,r={options:{codecType:Ft,level:C,password:E,encryptionStrength:Z,zipCrypto:g&&U,passwordVerification:g&&U&&w>>8&255,signed:!0,compressed:m,encrypted:g,useWebWorkers:V,useCompressionStream:Y,transferStreams:!1},config:o,streamOptions:{signal:j,size:n,onstart:K,onprogress:P,onend:O}},s=await Kt({readable:t,writable:se},r);se.size+=s.size,te=s.signature,re=e.size=t.size,ne=s.size}else await Zr(se,d);let ae;if(A){let e=4;T&&(e+=8),R&&(e+=8),H&&(e+=8),M&&(e+=4),ae=new l(e)}else ae=new l;e&&function(e,t){const{signature:n,rawExtraFieldZip64:s,compressedSize:a,uncompressedSize:i,headerInfo:o,dataDescriptorInfo:c}=e,{headerView:l,encrypted:u}=o,{dataDescriptorView:f,dataDescriptorOffset:d}=c,{zip64:h,zip64UncompressedSize:p,zip64CompressedSize:w,zipCrypto:g,dataDescriptor:m}=t;u&&!g||n===$||(Yr(l,10,n),m&&Yr(f,d,n));if(h){const e=ts(s);Qr(e,0,q),Qr(e,2,s.length-4);let t=4;p&&(Yr(l,18,F),$r(e,t,r(i)),t+=8),w&&(Yr(l,14,F),$r(e,t,r(a))),m&&($r(f,d+4,r(a)),$r(f,d+12,r(i)))}else Yr(l,14,a),Yr(l,18,i),m&&(Yr(f,d+4,a),Yr(f,d+8,i))}({signature:te,rawExtraFieldZip64:ae,compressedSize:ne,uncompressedSize:re,headerInfo:u,dataDescriptorInfo:f},c);B&&await Zr(se,k);return t.assign(ee,{uncompressedSize:re,compressedSize:ne,lastModDate:p,rawLastModDate:w,creationDate:x,lastAccessDate:_,encrypted:g,length:ns(d,k)+ne,compressionMethod:b,version:y,headerArray:h,signature:te,rawExtraFieldZip64:ae,zip64UncompressedSize:T,zip64CompressedSize:R,zip64Offset:H,zip64DiskNumberStart:M}),ee}(a,D,_,i,n.config,o),k=!1,u.set(s,_),_.filename=s,b){await D.writable.close();let t=await D.getData();await e,await E(),z=!0,w||(t=await async function(e,t,n,{zipCrypto:r}){const s=await function(e,t,n){return t||n?e.slice(t,n).arrayBuffer():e.arrayBuffer()}(t,0,26),a=new d(s);e.encrypted&&!r||Yr(a,14,e.signature);e.zip64?(Yr(a,18,F),Yr(a,22,F)):(Yr(a,18,e.compressedSize),Yr(a,22,e.uncompressedSize));return await Zr(n,new l(s)),t.slice(s.byteLength)}(_,t,p,o)),await C(p),_.diskNumberStart=f.diskNumber,m=f.diskOffset,await t.stream().pipeTo(p,{preventClose:!0,signal:g}),p.size+=t.size,z=!1}if(_.offset=n.offset-m,_.zip64)!function(e,t){const{rawExtraFieldZip64:n,offset:s,diskNumberStart:a}=e,{zip64UncompressedSize:i,zip64CompressedSize:o,zip64Offset:c,zip64DiskNumberStart:l}=t,u=ts(n);let f=4;i&&(f+=8);o&&(f+=8);c&&($r(u,f,r(s)),f+=8);l&&Yr(u,f,a)}(_,o);else if(_.offset>=F)throw new c(Vr);return n.offset+=_.length,_}catch(e){throw(b&&z||!b&&k)&&(n.hasCorruptedEntries=!0,e&&(e.corruptedEntry=!0),b?n.offset+=D.writable.size:n.offset=D.writable.size),u.delete(s),e}finally{b&&n.bufferedWrites--,v&&v(),S&&S()}function x(){_.lock=new p((e=>v=e))}async function E(){n.writerLocked=!0;const{lockWriter:e}=n;n.lockWriter=new p((e=>S=()=>{n.writerLocked=!1,e()})),await e}async function C(e){m.localHeaderArray.length>f.availableSize&&(f.availableSize=0,await Zr(e,new l))}}(n,i,o,{headerInfo:ke,dataDescriptorInfo:De},h)}finally{n.pendingEntriesSize-=fe}return t.assign(_e,{name:i,comment:g,extraField:le}),new ar(_e)}(h,n,i,o),w.add(m),await m}catch(e){throw h.filenames.delete(n),e}finally{w.delete(m);const e=Or.shift();e?e():Pr--}}async close(t=new l,n={}){const{pendingAddFileCalls:a,writer:i}=this,{writable:o}=i;for(;a.size;)await p.all(e.from(a));await async function(t,n,a){const{files:i,writer:o}=t,{diskOffset:u,writable:f}=o;let{diskNumber:d}=o,h=0,p=0,w=t.offset-u,g=i.size;for(const[,{rawFilename:e,rawExtraFieldZip64:t,rawExtraFieldAES:n,rawExtraField:r,rawComment:s,rawExtraFieldExtendedTimestamp:a,rawExtraFieldNTFS:o}]of i)p+=46+ns(e,s,t,n,a,o,r);const m=new l(p),y=ts(m);await Tn(o);let b=0;for(const[t,n]of e.from(i.values()).entries()){const{offset:e,rawFilename:r,rawExtraFieldZip64:c,rawExtraFieldAES:u,rawExtraFieldNTFS:d,rawExtraField:p,rawComment:w,versionMadeBy:g,headerArray:S,directory:v,zip64:z,zip64UncompressedSize:k,zip64CompressedSize:D,zip64DiskNumberStart:_,zip64Offset:x,msDosCompatible:C,internalFileAttribute:A,externalFileAttribute:T,extendedTimestamp:R,lastModDate:H,diskNumberStart:M,uncompressedSize:B,compressedSize:W}=n;let L;if(R){L=new l(9);const e=ts(L);Qr(e,0,P),Qr(e,2,ns(L)-4),Jr(e,4,1),Yr(e,5,s.floor(H.getTime()/1e3))}else L=new l;const N=ns(c,u,L,d,p);Yr(y,h,U),Qr(y,h+4,g);const q=ts(S);k||Yr(q,18,B),D||Yr(q,14,W),es(m,S,h+6),Qr(y,h+30,N),Qr(y,h+32,ns(w)),Qr(y,h+34,z&&_?E:M),Qr(y,h+36,A),T?Yr(y,h+38,T):v&&C&&Jr(y,h+38,16),Yr(y,h+42,z&&x?F:e),es(m,r,h+46),es(m,c,h+46+ns(r)),es(m,u,h+46+ns(r,c)),es(m,L,h+46+ns(r,c,u)),es(m,d,h+46+ns(r,c,u,L)),es(m,p,h+46+ns(r,c,u,L,d)),es(m,w,h+46+ns(r)+N);const I=46+ns(r,w)+N;if(h-b>o.availableSize&&(o.availableSize=0,await Zr(f,m.slice(b,h)),b=h),h+=I,a.onprogress)try{await a.onprogress(t+1,i.size,new ar(n))}catch(e){}}await Zr(f,b?m.slice(b):m);let S=o.diskNumber;const{availableSize:v}=o;v<N&&S++;let z=Xr(t,a,"zip64");if(w>=F||p>=F||g>=E||S>=E){if(!1===z)throw new c(Vr);z=!0}const k=new l(z?98:N),D=ts(k);if(h=0,z){Yr(D,0,W),$r(D,4,r(44)),Qr(D,12,45),Qr(D,14,45),Yr(D,16,S),Yr(D,20,d),$r(D,24,r(g)),$r(D,32,r(g)),$r(D,40,r(p)),$r(D,48,r(w)),Yr(D,56,L),$r(D,64,r(w)+r(p)),Yr(D,72,S+1);Xr(t,a,"supportZip64SplitFile",!0)&&(S=E,d=E),g=E,w=F,p=F,h+=76}Yr(D,h,B),Qr(D,h+4,S),Qr(D,h+6,d),Qr(D,h+8,g),Qr(D,h+10,g),Yr(D,h+12,p),Yr(D,h+16,w);const _=ns(n);if(_){if(!(_<=E))throw new c(Ur);Qr(D,h+20,_)}await Zr(f,k),_&&await Zr(f,n)}(this,t,n);return Xr(this,n,"preventClose")||await o.close(),i.getData?i.getData():o}}async function Zr(e,t){const n=e.getWriter();await n.ready,e.size+=ns(t),await n.write(t),n.releaseLock()}function Gr(e){if(e)return(r(e.getTime())+r(116444736e5))*r(1e4)}function Xr(e,t,n,r){const s=t[n]===$?e.options[n]:t[n];return s===$?r:s}function Jr(e,t,n){e.setUint8(t,n)}function Qr(e,t,n){e.setUint16(t,n,!0)}function Yr(e,t,n){e.setUint32(t,n,!0)}function $r(e,t,n){e.setBigUint64(t,n,!0)}function es(e,t,n){e.set(t,n)}function ts(e){return new d(e.buffer)}function ns(...e){let t=0;return e.forEach((e=>e&&(t+=e.length))),t}let rs;try{rs=import.meta.url}catch(e){}le({baseURL:rs}),function(e){const t=()=>o.createObjectURL(new h(['const{Array:e,Object:t,Math:n,Error:r,Uint8Array:s,Uint16Array:a,Uint32Array:i,Int32Array:o,DataView:l,Promise:c,TextEncoder:f,crypto:h,postMessage:u,TransformStream:p,ReadableStream:d,WritableStream:g,CompressionStream:w,DecompressionStream:v}=globalThis;class y{constructor(e){return class extends p{constructor(t,n){const r=new e(n);super({transform(e,t){t.enqueue(r.append(e))},flush(e){const t=r.flush();t&&e.enqueue(t)}})}}}}const m=[];for(let e=0;256>e;e++){let t=e;for(let e=0;8>e;e++)1&t?t=t>>>1^3988292384:t>>>=1;m[e]=t}class b{constructor(e){this.crc=e||-1}append(e){let t=0|this.crc;for(let n=0,r=0|e.length;r>n;n++)t=t>>>8^m[255&(t^e[n])];this.crc=t}get(){return~this.crc}}class _ extends p{constructor(){const e=new b;super({transform(t){e.append(t)},flush(t){const n=new s(4);new l(n.buffer).setUint32(0,e.get()),t.enqueue(n)}})}}const S={concat(e,t){if(0===e.length||0===t.length)return e.concat(t);const n=e[e.length-1],r=S.getPartial(n);return 32===r?e.concat(t):S._shiftRight(t,r,0|n,e.slice(0,e.length-1))},bitLength(e){const t=e.length;if(0===t)return 0;const n=e[t-1];return 32*(t-1)+S.getPartial(n)},clamp(e,t){if(32*e.length<t)return e;const r=(e=e.slice(0,n.ceil(t/32))).length;return t&=31,r>0&&t&&(e[r-1]=S.partial(t,e[r-1]&2147483648>>t-1,1)),e},partial:(e,t,n)=>32===e?t:(n?0|t:t<<32-e)+1099511627776*e,getPartial:e=>n.round(e/1099511627776)||32,_shiftRight(e,t,n,r){for(void 0===r&&(r=[]);t>=32;t-=32)r.push(n),n=0;if(0===t)return r.concat(e);for(let s=0;s<e.length;s++)r.push(n|e[s]>>>t),n=e[s]<<32-t;const s=e.length?e[e.length-1]:0,a=S.getPartial(s);return r.push(S.partial(t+a&31,t+a>32?n:r.pop(),1)),r}},k={bytes:{fromBits(e){const t=S.bitLength(e)/8,n=new s(t);let r;for(let s=0;t>s;s++)0==(3&s)&&(r=e[s/4]),n[s]=r>>>24,r<<=8;return n},toBits(e){const t=[];let n,r=0;for(n=0;n<e.length;n++)r=r<<8|e[n],3==(3&n)&&(t.push(r),r=0);return 3&n&&t.push(S.partial(8*(3&n),r)),t}}},D={getRandomValues(e){const t=new i(e.buffer),r=e=>{let t=987654321;const r=4294967295;return()=>(t=36969*(65535&t)+(t>>16)&r,(((t<<16)+(e=18e3*(65535&e)+(e>>16)&r)&r)/4294967296+.5)*(n.random()>.5?1:-1))};for(let s,a=0;a<e.length;a+=4){const e=r(4294967296*(s||n.random()));s=987654071*e(),t[a/4]=4294967296*e()|0}return e}},z={importKey:e=>new z.hmacSha1(k.bytes.toBits(e)),pbkdf2(e,t,n,s){if(n=n||1e4,0>s||0>n)throw new r("invalid params to pbkdf2");const a=1+(s>>5)<<2;let i,o,c,f,h;const u=new ArrayBuffer(a),p=new l(u);let d=0;const g=S;for(t=k.bytes.toBits(t),h=1;(a||1)>d;h++){for(i=o=e.encrypt(g.concat(t,[h])),c=1;n>c;c++)for(o=e.encrypt(o),f=0;f<o.length;f++)i[f]^=o[f];for(c=0;(a||1)>d&&c<i.length;c++)p.setInt32(d,i[c]),d+=4}return u.slice(0,s/8)},hmacSha1:class{constructor(t){const s=this,a=s._hash=class{constructor(e){const t=this;t.blockSize=512,t._init=[1732584193,4023233417,2562383102,271733878,3285377520],t._key=[1518500249,1859775393,2400959708,3395469782],e?(t._h=e._h.slice(0),t._buffer=e._buffer.slice(0),t._length=e._length):t.reset()}reset(){const e=this;return e._h=e._init.slice(0),e._buffer=[],e._length=0,e}update(e){const t=this;"string"==typeof e&&(e=k.utf8String.toBits(e));const n=t._buffer=S.concat(t._buffer,e),s=t._length,a=t._length=s+S.bitLength(e);if(a>9007199254740991)throw new r("Cannot hash more than 2^53 - 1 bits");const o=new i(n);let l=0;for(let e=t.blockSize+s-(t.blockSize+s&t.blockSize-1);a>=e;e+=t.blockSize)t._block(o.subarray(16*l,16*(l+1))),l+=1;return n.splice(0,16*l),t}finalize(){const e=this;let t=e._buffer;const r=e._h;t=S.concat(t,[S.partial(1,1)]);for(let e=t.length+2;15&e;e++)t.push(0);for(t.push(n.floor(e._length/4294967296)),t.push(0|e._length);t.length;)e._block(t.splice(0,16));return e.reset(),r}_f(e,t,n,r){return e>19?e>39?e>59?e>79?void 0:t^n^r:t&n|t&r|n&r:t^n^r:t&n|~t&r}_S(e,t){return t<<e|t>>>32-e}_block(t){const r=this,s=r._h,a=e(80);for(let e=0;16>e;e++)a[e]=t[e];let i=s[0],o=s[1],l=s[2],c=s[3],f=s[4];for(let e=0;79>=e;e++){16>e||(a[e]=r._S(1,a[e-3]^a[e-8]^a[e-14]^a[e-16]));const t=r._S(5,i)+r._f(e,o,l,c)+f+a[e]+r._key[n.floor(e/20)]|0;f=c,c=l,l=r._S(30,o),o=i,i=t}s[0]=s[0]+i|0,s[1]=s[1]+o|0,s[2]=s[2]+l|0,s[3]=s[3]+c|0,s[4]=s[4]+f|0}},o=[[],[]];s._baseHash=[new a,new a];const l=s._baseHash[0].blockSize/32;t.length>l&&(t=a.hash(t));for(let e=0;l>e;e++)o[0][e]=909522486^t[e],o[1][e]=1549556828^t[e];s._baseHash[0].update(o[0]),s._baseHash[1].update(o[1]),s._resultHash=new a(s._baseHash[0])}reset(){const e=this;e._resultHash=new e._hash(e._baseHash[0]),e._updated=!1}update(e){this._updated=!0,this._resultHash.update(e)}digest(){const e=this,t=e._resultHash.finalize(),n=new e._hash(e._baseHash[1]).update(t).finalize();return e.reset(),n}encrypt(e){if(this._updated)throw new r("encrypt on already updated hmac called!");return this.update(e),this.digest(e)}}},I=void 0!==h&&"function"==typeof h.getRandomValues;function C(e){return I?h.getRandomValues(e):D.getRandomValues(e)}const E={name:"PBKDF2"},T=t.assign({hash:{name:"HMAC"}},E),R=t.assign({iterations:1e3,hash:{name:"SHA-1"}},E),x=["deriveBits"],A=[8,12,16],B=[16,24,32],H=[0,0,0,0],q=void 0!==h,K=q&&h.subtle,V=q&&void 0!==K,M=k.bytes,N=class{constructor(e){const t=this;t._tables=[[[],[],[],[],[]],[[],[],[],[],[]]],t._tables[0][0][0]||t._precompute();const n=t._tables[0][4],s=t._tables[1],a=e.length;let i,o,l,c=1;if(4!==a&&6!==a&&8!==a)throw new r("invalid aes key size");for(t._key=[o=e.slice(0),l=[]],i=a;4*a+28>i;i++){let e=o[i-1];(i%a==0||8===a&&i%a==4)&&(e=n[e>>>24]<<24^n[e>>16&255]<<16^n[e>>8&255]<<8^n[255&e],i%a==0&&(e=e<<8^e>>>24^c<<24,c=c<<1^283*(c>>7))),o[i]=o[i-a]^e}for(let e=0;i;e++,i--){const t=o[3&e?i:i-4];l[e]=4>=i||4>e?t:s[0][n[t>>>24]]^s[1][n[t>>16&255]]^s[2][n[t>>8&255]]^s[3][n[255&t]]}}encrypt(e){return this._crypt(e,0)}decrypt(e){return this._crypt(e,1)}_precompute(){const e=this._tables[0],t=this._tables[1],n=e[4],r=t[4],s=[],a=[];let i,o,l,c;for(let e=0;256>e;e++)a[(s[e]=e<<1^283*(e>>7))^e]=e;for(let f=i=0;!n[f];f^=o||1,i=a[i]||1){let a=i^i<<1^i<<2^i<<3^i<<4;a=a>>8^255&a^99,n[f]=a,r[a]=f,c=s[l=s[o=s[f]]];let h=16843009*c^65537*l^257*o^16843008*f,u=257*s[a]^16843008*a;for(let n=0;4>n;n++)e[n][f]=u=u<<24^u>>>8,t[n][a]=h=h<<24^h>>>8}for(let n=0;5>n;n++)e[n]=e[n].slice(0),t[n]=t[n].slice(0)}_crypt(e,t){if(4!==e.length)throw new r("invalid aes block size");const n=this._key[t],s=n.length/4-2,a=[0,0,0,0],i=this._tables[t],o=i[0],l=i[1],c=i[2],f=i[3],h=i[4];let u,p,d,g=e[0]^n[0],w=e[t?3:1]^n[1],v=e[2]^n[2],y=e[t?1:3]^n[3],m=4;for(let e=0;s>e;e++)u=o[g>>>24]^l[w>>16&255]^c[v>>8&255]^f[255&y]^n[m],p=o[w>>>24]^l[v>>16&255]^c[y>>8&255]^f[255&g]^n[m+1],d=o[v>>>24]^l[y>>16&255]^c[g>>8&255]^f[255&w]^n[m+2],y=o[y>>>24]^l[g>>16&255]^c[w>>8&255]^f[255&v]^n[m+3],m+=4,g=u,w=p,v=d;for(let e=0;4>e;e++)a[t?3&-e:e]=h[g>>>24]<<24^h[w>>16&255]<<16^h[v>>8&255]<<8^h[255&y]^n[m++],u=g,g=w,w=v,v=y,y=u;return a}},P=class{constructor(e,t){this._prf=e,this._initIv=t,this._iv=t}reset(){this._iv=this._initIv}update(e){return this.calculate(this._prf,e,this._iv)}incWord(e){if(255==(e>>24&255)){let t=e>>16&255,n=e>>8&255,r=255&e;255===t?(t=0,255===n?(n=0,255===r?r=0:++r):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=r}else e+=1<<24;return e}incCounter(e){0===(e[0]=this.incWord(e[0]))&&(e[1]=this.incWord(e[1]))}calculate(e,t,n){let r;if(!(r=t.length))return[];const s=S.bitLength(t);for(let s=0;r>s;s+=4){this.incCounter(n);const r=e.encrypt(n);t[s]^=r[0],t[s+1]^=r[1],t[s+2]^=r[2],t[s+3]^=r[3]}return S.clamp(t,s)}},U=z.hmacSha1;let L=q&&V&&"function"==typeof K.importKey,W=q&&V&&"function"==typeof K.deriveBits;class F extends p{constructor({password:e,signed:n,encryptionStrength:a}){super({start(){t.assign(this,{ready:new c((e=>this.resolveReady=e)),password:e,signed:n,strength:a-1,pending:new s})},async transform(e,t){const n=this,{password:a,strength:i,resolveReady:o,ready:l}=n;a?(await(async(e,t,n,s)=>{const a=await X(e,t,n,j(s,0,A[t])),i=j(s,A[t]);if(a[0]!=i[0]||a[1]!=i[1])throw new r("Invalid password")})(n,i,a,j(e,0,A[i]+2)),e=j(e,A[i]+2),o()):await l;const c=new s(e.length-10-(e.length-10)%16);t.enqueue(G(n,e,c,0,10,!0))},async flush(e){const{signed:t,ctr:n,hmac:a,pending:i,ready:o}=this;await o;const l=j(i,0,i.length-10),c=j(i,i.length-10);let f=new s;if(l.length){const e=Q(M,l);a.update(e);const t=n.update(e);f=J(M,t)}if(t){const e=j(J(M,a.digest()),0,10);for(let t=0;10>t;t++)if(e[t]!=c[t])throw new r("Invalid signature")}e.enqueue(f)}})}}class O extends p{constructor({password:e,encryptionStrength:n}){let r;super({start(){t.assign(this,{ready:new c((e=>this.resolveReady=e)),password:e,strength:n-1,pending:new s})},async transform(e,t){const n=this,{password:r,strength:a,resolveReady:i,ready:o}=n;let l=new s;r?(l=await(async(e,t,n)=>{const r=C(new s(A[t]));return Y(r,await X(e,t,n,r))})(n,a,r),i()):await o;const c=new s(l.length+e.length-e.length%16);c.set(l,0),t.enqueue(G(n,e,c,l.length,0))},async flush(e){const{ctr:t,hmac:n,pending:a,ready:i}=this;await i;let o=new s;if(a.length){const e=t.update(Q(M,a));n.update(e),o=J(M,e)}r.signature=J(M,n.digest()).slice(0,10),e.enqueue(Y(o,r.signature))}}),r=this}}function G(e,t,n,r,a,i){const{ctr:o,hmac:l,pending:c}=e,f=t.length-a;let h;for(c.length&&(t=Y(c,t),n=((e,t)=>{if(t&&t>e.length){const n=e;(e=new s(t)).set(n,0)}return e})(n,f-f%16)),h=0;f-16>=h;h+=16){const e=Q(M,j(t,h,h+16));i&&l.update(e);const s=o.update(e);i||l.update(s),n.set(J(M,s),h+r)}return e.pending=j(t,h),n}async function X(n,r,a,i){n.password=null;const o=(e=>{if(void 0===f){const t=new s((e=unescape(encodeURIComponent(e))).length);for(let n=0;n<t.length;n++)t[n]=e.charCodeAt(n);return t}return(new f).encode(e)})(a),l=await(async(e,t,n,r,s)=>{if(!L)return z.importKey(t);try{return await K.importKey("raw",t,n,!1,s)}catch(e){return L=!1,z.importKey(t)}})(0,o,T,0,x),c=await(async(e,t,n)=>{if(!W)return z.pbkdf2(t,e.salt,R.iterations,n);try{return await K.deriveBits(e,t,n)}catch(r){return W=!1,z.pbkdf2(t,e.salt,R.iterations,n)}})(t.assign({salt:i},R),l,8*(2*B[r]+2)),h=new s(c),u=Q(M,j(h,0,B[r])),p=Q(M,j(h,B[r],2*B[r])),d=j(h,2*B[r]);return t.assign(n,{keys:{key:u,authentication:p,passwordVerification:d},ctr:new P(new N(u),e.from(H)),hmac:new U(p)}),d}function Y(e,t){let n=e;return e.length+t.length&&(n=new s(e.length+t.length),n.set(e,0),n.set(t,e.length)),n}function j(e,t,n){return e.subarray(t,n)}function J(e,t){return e.fromBits(t)}function Q(e,t){return e.toBits(t)}class Z extends p{constructor({password:e,passwordVerification:n}){super({start(){t.assign(this,{password:e,passwordVerification:n}),ne(this,e)},transform(e,t){const n=this;if(n.password){const t=ee(n,e.subarray(0,12));if(n.password=null,t[11]!=n.passwordVerification)throw new r("Invalid password");e=e.subarray(12)}t.enqueue(ee(n,e))}})}}class $ extends p{constructor({password:e,passwordVerification:n}){super({start(){t.assign(this,{password:e,passwordVerification:n}),ne(this,e)},transform(e,t){const n=this;let r,a;if(n.password){n.password=null;const t=C(new s(12));t[11]=n.passwordVerification,r=new s(e.length+t.length),r.set(te(n,t),0),a=12}else r=new s(e.length),a=0;r.set(te(n,e),a),t.enqueue(r)}})}}function ee(e,t){const n=new s(t.length);for(let r=0;r<t.length;r++)n[r]=se(e)^t[r],re(e,n[r]);return n}function te(e,t){const n=new s(t.length);for(let r=0;r<t.length;r++)n[r]=se(e)^t[r],re(e,t[r]);return n}function ne(e,n){const r=[305419896,591751049,878082192];t.assign(e,{keys:r,crcKey0:new b(r[0]),crcKey2:new b(r[2])});for(let t=0;t<n.length;t++)re(e,n.charCodeAt(t))}function re(e,t){let[r,s,a]=e.keys;e.crcKey0.append([t]),r=~e.crcKey0.get(),s=ie(n.imul(ie(s+ae(r)),134775813)+1),e.crcKey2.append([s>>>24]),a=~e.crcKey2.get(),e.keys=[r,s,a]}function se(e){const t=2|e.keys[2];return ae(n.imul(t,1^t)>>>8)}function ae(e){return 255&e}function ie(e){return 4294967295&e}class oe extends p{constructor(e,{chunkSize:t,CompressionStream:n,CompressionStreamNative:r}){super({});const{compressed:s,encrypted:a,useCompressionStream:i,zipCrypto:o,signed:c,level:f}=e,h=this;let u,p,d=ce(super.readable);a&&!o||!c||([d,u]=d.tee(),u=ue(u,new _)),s&&(d=he(d,i,{level:f,chunkSize:t},r,n)),a&&(o?d=ue(d,new $(e)):(p=new O(e),d=ue(d,p))),fe(h,d,(async()=>{let e;a&&!o&&(e=p.signature),a&&!o||!c||(e=await u.getReader().read(),e=new l(e.value.buffer).getUint32(0)),h.signature=e}))}}class le extends p{constructor(e,{chunkSize:t,DecompressionStream:n,DecompressionStreamNative:s}){super({});const{zipCrypto:a,encrypted:i,signed:o,signature:c,compressed:f,useCompressionStream:h}=e;let u,p,d=ce(super.readable);i&&(a?d=ue(d,new Z(e)):(p=new F(e),d=ue(d,p))),f&&(d=he(d,h,{chunkSize:t},s,n)),i&&!a||!o||([d,u]=d.tee(),u=ue(u,new _)),fe(this,d,(async()=>{if((!i||a)&&o){const e=await u.getReader().read(),t=new l(e.value.buffer);if(c!=t.getUint32(0,!1))throw new r("Invalid signature")}}))}}function ce(e){return ue(e,new p({transform(e,t){e&&e.length&&t.enqueue(e)}}))}function fe(e,n,r){n=ue(n,new p({flush:r})),t.defineProperty(e,"readable",{get:()=>n})}function he(e,t,n,r,s){try{e=ue(e,new(t&&r?r:s)("deflate-raw",n))}catch(r){if(!t)throw r;e=ue(e,new s("deflate-raw",n))}return e}function ue(e,t){return e.pipeThrough(t)}class pe extends p{constructor(e,n){super({});const r=this,{codecType:s}=e;let a;s.startsWith("deflate")?a=oe:s.startsWith("inflate")&&(a=le);let i=0;const o=new a(e,n),l=super.readable,c=new p({transform(e,t){e&&e.length&&(i+=e.length,t.enqueue(e))},flush(){const{signature:e}=o;t.assign(r,{signature:e,size:i})}});t.defineProperty(r,"readable",{get:()=>l.pipeThrough(o).pipeThrough(c)})}}const de=new Map,ge=new Map;let we=0;async function ve(e){try{const{options:t,scripts:n,config:r}=e;n&&n.length&&importScripts.apply(void 0,n),self.initCodec&&self.initCodec(),r.CompressionStreamNative=self.CompressionStream,r.DecompressionStreamNative=self.DecompressionStream,self.Deflate&&(r.CompressionStream=new y(self.Deflate)),self.Inflate&&(r.DecompressionStream=new y(self.Inflate));const s={highWaterMark:1,size:()=>r.chunkSize},a=e.readable||new d({async pull(e){const t=new c((e=>de.set(we,e)));ye({type:"pull",messageId:we}),we=(we+1)%Number.MAX_SAFE_INTEGER;const{value:n,done:r}=await t;e.enqueue(n),r&&e.close()}},s),i=e.writable||new g({async write(e){let t;const n=new c((e=>t=e));ge.set(we,t),ye({type:"data",value:e,messageId:we}),we=(we+1)%Number.MAX_SAFE_INTEGER,await n}},s),o=new pe(t,r);await a.pipeThrough(o).pipeTo(i,{preventAbort:!0});try{await i.close()}catch(e){}const{signature:l,size:f}=o;ye({type:"close",result:{signature:l,size:f}})}catch(e){me(e)}}function ye(e){let{value:t}=e;if(t)if(t.length)try{t=new s(t),e.value=t.buffer,u(e,[e.value])}catch(t){u(e)}else u(e);else u(e)}function me(e){const{message:t,stack:n,code:r,name:s}=e;u({error:{message:t,stack:n,code:r,name:s}})}addEventListener("message",(({data:e})=>{const{type:t,messageId:n,value:r,done:a}=e;try{if("start"==t&&ve(e),"data"==t){const e=de.get(n);de.delete(n),e({value:new s(r),done:a})}if("ack"==t){const e=ge.get(n);ge.delete(n),e()}}catch(e){me(e)}}));var be=s,_e=a,Se=i,ke=new be([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),De=new be([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ze=new be([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ie=(e,t)=>{for(var n=new _e(31),r=0;31>r;++r)n[r]=t+=1<<e[r-1];var s=new Se(n[30]);for(r=1;30>r;++r)for(var a=n[r];a<n[r+1];++a)s[a]=a-n[r]<<5|r;return[n,s]},Ce=Ie(ke,2),Ee=Ce[0],Te=Ce[1];Ee[28]=258,Te[258]=28;for(var Re=Ie(De,0),xe=Re[0],Ae=Re[1],Be=new _e(32768),He=0;32768>He;++He){var qe=(43690&He)>>>1|(21845&He)<<1;qe=(61680&(qe=(52428&qe)>>>2|(13107&qe)<<2))>>>4|(3855&qe)<<4,Be[He]=((65280&qe)>>>8|(255&qe)<<8)>>>1}var Ke=(e,t,n)=>{for(var r=e.length,s=0,a=new _e(t);r>s;++s)e[s]&&++a[e[s]-1];var i,o=new _e(t);for(s=0;t>s;++s)o[s]=o[s-1]+a[s-1]<<1;if(n){i=new _e(1<<t);var l=15-t;for(s=0;r>s;++s)if(e[s])for(var c=s<<4|e[s],f=t-e[s],h=o[e[s]-1]++<<f,u=h|(1<<f)-1;u>=h;++h)i[Be[h]>>>l]=c}else for(i=new _e(r),s=0;r>s;++s)e[s]&&(i[s]=Be[o[e[s]-1]++]>>>15-e[s]);return i},Ve=new be(288);for(He=0;144>He;++He)Ve[He]=8;for(He=144;256>He;++He)Ve[He]=9;for(He=256;280>He;++He)Ve[He]=7;for(He=280;288>He;++He)Ve[He]=8;var Me=new be(32);for(He=0;32>He;++He)Me[He]=5;var Ne=Ke(Ve,9,0),Pe=Ke(Ve,9,1),Ue=Ke(Me,5,0),Le=Ke(Me,5,1),We=e=>{for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Fe=(e,t,n)=>{var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},Oe=(e,t)=>{var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},Ge=e=>(e+7)/8|0,Xe=(e,t,n)=>{(null==t||0>t)&&(t=0),(null==n||n>e.length)&&(n=e.length);var r=new(2==e.BYTES_PER_ELEMENT?_e:4==e.BYTES_PER_ELEMENT?Se:be)(n-t);return r.set(e.subarray(t,n)),r},Ye=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],je=(e,t,n)=>{var s=new r(t||Ye[e]);if(s.code=e,r.captureStackTrace&&r.captureStackTrace(s,je),!n)throw s;return s},Je=(e,t,n)=>{n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>>8},Qe=(e,t,n)=>{n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},Ze=(e,t)=>{for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var s=n.length,a=n.slice();if(!s)return[at,0];if(1==s){var i=new be(n[0].s+1);return i[n[0].s]=1,[i,1]}n.sort(((e,t)=>e.f-t.f)),n.push({s:-1,f:25001});var o=n[0],l=n[1],c=0,f=1,h=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};f!=s-1;)o=n[n[c].f<n[h].f?c++:h++],l=n[c!=f&&n[c].f<n[h].f?c++:h++],n[f++]={s:-1,f:o.f+l.f,l:o,r:l};var u=a[0].s;for(r=1;s>r;++r)a[r].s>u&&(u=a[r].s);var p=new _e(u+1),d=$e(n[f-1],p,0);if(d>t){r=0;var g=0,w=d-t,v=1<<w;for(a.sort(((e,t)=>p[t.s]-p[e.s]||e.f-t.f));s>r;++r){var y=a[r].s;if(p[y]<=t)break;g+=v-(1<<d-p[y]),p[y]=t}for(g>>>=w;g>0;){var m=a[r].s;p[m]<t?g-=1<<t-p[m]++-1:++r}for(;r>=0&&g;--r){var b=a[r].s;p[b]==t&&(--p[b],++g)}d=t}return[new be(p),d]},$e=(e,t,r)=>-1==e.s?n.max($e(e.l,t,r+1),$e(e.r,t,r+1)):t[e.s]=r,et=e=>{for(var t=e.length;t&&!e[--t];);for(var n=new _e(++t),r=0,s=e[0],a=1,i=e=>{n[r++]=e},o=1;t>=o;++o)if(e[o]==s&&o!=t)++a;else{if(!s&&a>2){for(;a>138;a-=138)i(32754);a>2&&(i(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(i(s),--a;a>6;a-=6)i(8304);a>2&&(i(a-3<<5|8208),a=0)}for(;a--;)i(s);a=1,s=e[o]}return[n.subarray(0,r),t]},tt=(e,t)=>{for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},nt=(e,t,n)=>{var r=n.length,s=Ge(t+2);e[s]=255&r,e[s+1]=r>>>8,e[s+2]=255^e[s],e[s+3]=255^e[s+1];for(var a=0;r>a;++a)e[s+a+4]=n[a];return 8*(s+4+r)},rt=(e,t,n,r,s,a,i,o,l,c,f)=>{Je(t,f++,n),++s[256];for(var h=Ze(s,15),u=h[0],p=h[1],d=Ze(a,15),g=d[0],w=d[1],v=et(u),y=v[0],m=v[1],b=et(g),_=b[0],S=b[1],k=new _e(19),D=0;D<y.length;++D)k[31&y[D]]++;for(D=0;D<_.length;++D)k[31&_[D]]++;for(var z=Ze(k,7),I=z[0],C=z[1],E=19;E>4&&!I[ze[E-1]];--E);var T,R,x,A,B=c+5<<3,H=tt(s,Ve)+tt(a,Me)+i,q=tt(s,u)+tt(a,g)+i+14+3*E+tt(k,I)+(2*k[16]+3*k[17]+7*k[18]);if(H>=B&&q>=B)return nt(t,f,e.subarray(l,l+c));if(Je(t,f,1+(H>q)),f+=2,H>q){T=Ke(u,p,0),R=u,x=Ke(g,w,0),A=g;var K=Ke(I,C,0);for(Je(t,f,m-257),Je(t,f+5,S-1),Je(t,f+10,E-4),f+=14,D=0;E>D;++D)Je(t,f+3*D,I[ze[D]]);f+=3*E;for(var V=[y,_],M=0;2>M;++M){var N=V[M];for(D=0;D<N.length;++D){var P=31&N[D];Je(t,f,K[P]),f+=I[P],P>15&&(Je(t,f,N[D]>>>5&127),f+=N[D]>>>12)}}}else T=Ne,R=Ve,x=Ue,A=Me;for(D=0;o>D;++D)if(r[D]>255){P=r[D]>>>18&31,Qe(t,f,T[P+257]),f+=R[P+257],P>7&&(Je(t,f,r[D]>>>23&31),f+=ke[P]);var U=31&r[D];Qe(t,f,x[U]),f+=A[U],U>3&&(Qe(t,f,r[D]>>>5&8191),f+=De[U])}else Qe(t,f,T[r[D]]),f+=R[r[D]];return Qe(t,f,T[256]),f+R[256]},st=new Se([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),at=new be(0),it=function(){function e(e,t){t||"function"!=typeof e||(t=e,e={}),this.ondata=t,this.o=e||{}}return e.prototype.p=function(e,t){var r,s,a;this.ondata((a=!t,((e,t,r,s,a,i)=>{var o=e.length,l=new be(0+o+5*(1+n.ceil(o/7e3))+0),c=l.subarray(0,l.length-0),f=0;if(!t||8>o)for(var h=0;o>=h;h+=65535){var u=h+65535;o>u||(c[f>>3]=i),f=nt(c,f+1,e.subarray(h,u))}else{for(var p=st[t-1],d=p>>>13,g=8191&p,w=(1<<r)-1,v=new _e(32768),y=new _e(w+1),m=n.ceil(r/3),b=2*m,_=t=>(e[t]^e[t+1]<<m^e[t+2]<<b)&w,S=new Se(25e3),k=new _e(288),D=new _e(32),z=0,I=0,C=(h=0,0),E=0,T=0;o>h;++h){var R=_(h),x=32767&h,A=y[R];if(v[x]=A,y[R]=x,h>=E){var B=o-h;if((z>7e3||C>24576)&&B>423){f=rt(e,c,0,S,k,D,I,C,T,h-T,f),C=z=I=0,T=h;for(var H=0;286>H;++H)k[H]=0;for(H=0;30>H;++H)D[H]=0}var q=2,K=0,V=g,M=x-A&32767;if(B>2&&R==_(h-M))for(var N=n.min(d,B)-1,P=n.min(32767,h),U=n.min(258,B);P>=M&&--V&&x!=A;){if(e[h+q]==e[h+q-M]){for(var L=0;U>L&&e[h+L]==e[h+L-M];++L);if(L>q){if(q=L,K=M,L>N)break;var W=n.min(M,L-2),F=0;for(H=0;W>H;++H){var O=h-M+H+32768&32767,G=O-v[O]+32768&32767;G>F&&(F=G,A=O)}}}M+=(x=A)-(A=v[x])+32768&32767}if(K){S[C++]=268435456|Te[q]<<18|Ae[K];var X=31&Te[q],Y=31&Ae[K];I+=ke[X]+De[Y],++k[257+X],++D[Y],E=h+q,++z}else S[C++]=e[h],++k[e[h]]}}f=rt(e,c,i,S,k,D,I,C,T,h-T,f),!i&&7&f&&(f=nt(c,f+1,at))}return Xe(l,0,0+Ge(f)+0)})(r=e,null==(s=this.o).level?6:s.level,null==s.mem?n.ceil(1.5*n.max(8,n.min(13,n.log(r.length)))):12+s.mem,0,0,!a)),t)},e.prototype.push=function(e,t){this.ondata||je(5),this.d&&je(4),this.d=t,this.p(e,t||!1)},e}(),ot=function(){function e(e){this.s={},this.p=new be(0),this.ondata=e}return e.prototype.e=function(e){this.ondata||je(5),this.d&&je(4);var t=this.p.length,n=new be(t+e.length);n.set(this.p),n.set(e,t),this.p=n},e.prototype.c=function(e){this.d=this.s.i=e||!1;var t=this.s.b,r=((e,t,r)=>{var s=e.length;if(!s||r&&r.f&&!r.l)return t||new be(0);var a=!t||r,i=!r||r.i;r||(r={}),t||(t=new be(3*s));var o=e=>{var r=t.length;if(e>r){var s=new be(n.max(2*r,e));s.set(t),t=s}},l=r.f||0,c=r.p||0,f=r.b||0,h=r.l,u=r.d,p=r.m,d=r.n,g=8*s;do{if(!h){l=Fe(e,c,1);var w=Fe(e,c+1,3);if(c+=3,!w){var v=e[(E=Ge(c)+4)-4]|e[E-3]<<8,y=E+v;if(y>s){i&&je(0);break}a&&o(f+v),t.set(e.subarray(E,y),f),r.b=f+=v,r.p=c=8*y,r.f=l;continue}if(1==w)h=Pe,u=Le,p=9,d=5;else if(2==w){var m=Fe(e,c,31)+257,b=Fe(e,c+10,15)+4,_=m+Fe(e,c+5,31)+1;c+=14;for(var S=new be(_),k=new be(19),D=0;b>D;++D)k[ze[D]]=Fe(e,c+3*D,7);c+=3*b;var z=We(k),I=(1<<z)-1,C=Ke(k,z,1);for(D=0;_>D;){var E,T=C[Fe(e,c,I)];if(c+=15&T,16>(E=T>>>4))S[D++]=E;else{var R=0,x=0;for(16==E?(x=3+Fe(e,c,3),c+=2,R=S[D-1]):17==E?(x=3+Fe(e,c,7),c+=3):18==E&&(x=11+Fe(e,c,127),c+=7);x--;)S[D++]=R}}var A=S.subarray(0,m),B=S.subarray(m);p=We(A),d=We(B),h=Ke(A,p,1),u=Ke(B,d,1)}else je(1);if(c>g){i&&je(0);break}}a&&o(f+131072);for(var H=(1<<p)-1,q=(1<<d)-1,K=c;;K=c){var V=(R=h[Oe(e,c)&H])>>>4;if((c+=15&R)>g){i&&je(0);break}if(R||je(2),256>V)t[f++]=V;else{if(256==V){K=c,h=null;break}var M=V-254;if(V>264){var N=ke[D=V-257];M=Fe(e,c,(1<<N)-1)+Ee[D],c+=N}var P=u[Oe(e,c)&q],U=P>>>4;if(P||je(3),c+=15&P,B=xe[U],U>3&&(N=De[U],B+=Oe(e,c)&(1<<N)-1,c+=N),c>g){i&&je(0);break}a&&o(f+131072);for(var L=f+M;L>f;f+=4)t[f]=t[f-B],t[f+1]=t[f+1-B],t[f+2]=t[f+2-B],t[f+3]=t[f+3-B];f=L}}r.l=h,r.p=K,r.b=f,r.f=l,h&&(l=1,r.m=p,r.d=u,r.n=d)}while(!l);return f==t.length?t:Xe(t,0,f)})(this.p,this.o,this.s);this.ondata(Xe(r,t,this.s.b),this.d),this.o=Xe(r,this.s.b-32768),this.s.b=this.o.length,this.p=Xe(this.p,this.s.p/8|0),this.s.p&=7},e.prototype.push=function(e,t){this.e(e),this.c(t)},e}(),lt="undefined"!=typeof TextDecoder&&new TextDecoder;try{lt.decode(at,{stream:!0})}catch(e){}function ct(e,n,r){return class{constructor(a){const i=this;t.hasOwn(a,"level")&&void 0===a.level&&delete a.level,i.codec=new e(t.assign({},n,a)),r(i.codec,(e=>{if(i.pendingData){const t=i.pendingData;i.pendingData=new s(t.length+e.length);const{pendingData:n}=i;n.set(t,0),n.set(e,t.length)}else i.pendingData=new s(e)}))}append(e){return this.codec.push(e),a(this)}flush(){return this.codec.push(new s,!0),a(this)}};function a(e){if(e.pendingData){const t=e.pendingData;return e.pendingData=null,t}return new s}}const{Deflate:ft,Inflate:ht}=((e,t={},n)=>({Deflate:ct(e.Deflate,t.deflate,n),Inflate:ct(e.Inflate,t.inflate,n)}))({Deflate:it,Inflate:ot},void 0,((e,t)=>e.ondata=t));self.initCodec=()=>{self.Deflate=ft,self.Inflate=ht};\n'],{type:"text/javascript"}));e({workerScripts:{inflate:[t],deflate:[t]}})}(le);export{cn as BlobReader,ln as BlobWriter,an as Data64URIReader,on as Data64URIWriter,ir as ERR_BAD_FORMAT,ur as ERR_CENTRAL_DIRECTORY_NOT_FOUND,Mr as ERR_DUPLICATED_NAME,hr as ERR_ENCRYPTED,lr as ERR_EOCDR_LOCATOR_ZIP64_NOT_FOUND,or as ERR_EOCDR_NOT_FOUND,cr as ERR_EOCDR_ZIP64_NOT_FOUND,dr as ERR_EXTRAFIELD_ZIP64_NOT_FOUND,Zt as ERR_HTTP_RANGE,Ur as ERR_INVALID_COMMENT,Nr as ERR_INVALID_ENCRYPTION_STRENGTH,Br as ERR_INVALID_ENTRY_COMMENT,Wr as ERR_INVALID_ENTRY_NAME,Ir as ERR_INVALID_EXTRAFIELD_DATA,qr as ERR_INVALID_EXTRAFIELD_TYPE,xe as ERR_INVALID_PASSWORD,Fe as ERR_INVALID_SIGNATURE,Lr as ERR_INVALID_VERSION,Gt as ERR_ITERATOR_COMPLETED_TOO_SOON,fr as ERR_LOCAL_FILE_HEADER_NOT_FOUND,gr as ERR_SPLIT_ZIP_FILE,wr as ERR_UNSUPPORTED_COMPRESSION,pr as ERR_UNSUPPORTED_ENCRYPTION,Vr as ERR_UNSUPPORTED_FORMAT,xn as HttpRangeReader,_n as HttpReader,rn as Reader,Cn as SplitDataReader,An as SplitDataWriter,Un as SplitZipReader,Bn as SplitZipWriter,un as TextReader,fn as TextWriter,Fn as Uint8ArrayReader,En as Uint8ArrayWriter,sn as Writer,vr as ZipReader,jr as ZipWriter,le as configure,fe as getMimeType,Rn as initReader,de as initShimAsyncCodec,Tn as initStream,Hn as initWriter,Mn as readUint8Array,Ot as terminateWorkers};
